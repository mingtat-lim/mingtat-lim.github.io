"use strict";(globalThis["webpackChunkquasar_barcode"]=globalThis["webpackChunkquasar_barcode"]||[]).push([[41],{4533:(e,a,t)=>{function o(e,a,t){return e?`${a} ${t}`:a}t.d(a,{y:()=>o})},9482:(e,a,t)=>{t.d(a,{n:()=>d});var o=t(587),s=t(8993);const l="barcode-db-v1",n="barcode-db",d=(0,o.nY)(l,{state:()=>({_loaded:!1,_barcodes:new Array}),getters:{barcodes:e=>{if(!e._loaded){const a=s.A.getItem(l);if(e._barcodes=null!==a?a:new Array,e._loaded=!0,null!==s.A.getItem(n)){const a=JSON.parse(s.A.getItem(n)+"");a.barCodes.forEach((a=>{e._barcodes.push({caption:a.caption,barcode:a.barCode,expended:!1})})),s.A.removeItem(n),s.A.set(l,e._barcodes)}}return e._barcodes}},actions:{save(){s.A.set(l,this._barcodes)},add(e){this._barcodes.push(e),this.save()},update(e,a){this._barcodes[a]=Object.assign({},e),this.save()},delete(e){return e>=0&&e<this._barcodes.length?(this._barcodes.splice(e,1),this.save(),!0):(console.error("Index out of range"),!1)},restore(e){this._barcodes=e,this.save()},reset(){this._barcodes=[],this.save()}}})},614:(e,a,t)=>{t.d(a,{C:()=>r});var o=t(587),s=t(8993),l=t(3537);const n="settings-db-v2",d=()=>({locale:"zh-TC",type:"barcode",systemAdmin:!1,barcodePageDebug:!1,barcodeEditPageDebug:!1,settingsPageDebug:!1,sharePageDebug:!1,homePageDebug:!1}),i=()=>{const{locale:e}=(0,l.s9)({useScope:"global"}),a=s.A.getItem(n),t=a||d();return e.value=t.locale,t},r=(0,o.nY)(n,{state:()=>({settings:i(),lang:(0,l.s9)({useScope:"global"})}),actions:{updateSettings(){this.settings.locale!==this.lang.locale&&(this.lang.locale=this.settings.locale),s.A.set(n,this.settings)},restore(e){this.settings=e,this.updateSettings()},reset(){this.settings=d(),this.updateSettings()}}})},1422:(e,a,t)=>{t.r(a),t.d(a,{default:()=>F});var o=t(1758),s=t(8790),l=t(8734),n=t(455),d=t(4533),i=t(9482),r=t(9270),c=t(4907),u=t(3537),b=t(614),p=t(587);const g=e=>((0,o.Qi)("data-v-6d31136c"),e=e(),(0,o.jt)(),e),m=g((()=>(0,o.Lk)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"},null,-1))),v={class:"row q-pa-xs"},_={class:"q-pa-md"},h=g((()=>(0,o.Lk)("span",{class:"material-symbols-outlined"}," id_card ",-1))),y=g((()=>(0,o.Lk)("span",{class:"material-symbols-outlined"}," phone ",-1))),k=g((()=>(0,o.Lk)("span",{class:"material-symbols-outlined"}," barcode ",-1))),f={key:0},R=g((()=>(0,o.Lk)("span",{class:"material-symbols-outlined"}," tag ",-1))),A=g((()=>(0,o.Lk)("span",{class:"material-symbols-outlined"}," notes ",-1))),C=(0,o.pM)({__name:"codeEditComponent",setup(e){const a=(0,b.C)(),{settings:t}=(0,p.bP)(a),{t:g}=(0,u.s9)(),C=(0,c.A)(),E=(0,n.rd)(),q=(0,n.lq)(),V=(0,i.n)(),w=t.value.barcodePageDebug;let L=!1;const S=(0,l.KR)(),x=(0,l.KR)(),P=q.query.id?parseInt(q.query.id.toString(),10):-1;let D={caption:"",barcode:"",expended:!1};-1===P?L=!0:D=Object.assign({},V.barcodes[P]);const I=(0,l.KR)(D);let O=JSON.stringify(I.value);const F=()=>{var e,a,t,o;if(w&&console.log("onSaveButtonClick"),O===JSON.stringify(I.value))C.notify({type:"warning",position:"center",message:g("barcodeEdit_save_warning_message")});else{if(null===(e=S.value)||void 0===e||e.validate(),null===(a=x.value)||void 0===a||a.validate(),(null===(t=S.value)||void 0===t?void 0:t.hasError)||(null===(o=x.value)||void 0===o?void 0:o.hasError))return void C.notify({type:"warning",position:"center",message:"Please clear all error before save..."});L?V.add(I.value):V.update(I.value,P),C.notify({type:"positive",position:"center",message:g("barcodeEdit_notify_RecordUpdated")}),O=JSON.stringify(I.value),E.push("/barcode")}},Q=()=>{w&&console.log("onDeleteButtonClick"),C.dialog({title:g("barcodeEdit_comfirmation_title"),message:g("barcodeEdit_delete_confirmation"),cancel:{label:g("button_caption_cancel"),push:!0},ok:{label:g("button_caption_delete")},persistent:!0}).onOk((()=>{V.delete(P),C.notify({type:"positive",position:"center",message:g("barcodeEdit_notify_RecordDeleted")}),E.push("/barcode")})).onCancel((()=>{})).onDismiss((()=>{}))},B=()=>{w&&console.log("onCloseButtonClick"),E.push("/barcode")};function J(){return new Promise(((e,a)=>{C.dialog({title:g("barcodeEdit_comfirmation_title"),message:g("barcodeEdit_unsave_warning_message"),cancel:{label:g("button_caption_cancel")},ok:{label:g("button_caption_yes")}}).onOk((()=>{e(!0)})).onCancel((()=>{a()})).onDismiss((()=>{}))}))}return(0,n.JZ)(((e,a,t)=>{O!==JSON.stringify(I.value)?J().then((()=>t())).catch((()=>!1)):t()})),(e,a)=>{const n=(0,o.g2)("q-btn"),i=(0,o.g2)("q-select");return(0,o.uX)(),(0,o.CE)(o.FK,null,[m,(0,o.Lk)("div",v,[(0,o.Lk)("div",{class:(0,s.C4)((0,l.R1)(d.y)((0,l.R1)(w),"col-md-auto q-pa-sm x-v-align-middle","bg-red-3"))},[(0,l.R1)(L)?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(n,{key:0,color:"red",icon:"delete",round:"",onClick:Q,class:"q-mr-xs"}))],2),(0,o.Lk)("div",{class:(0,s.C4)((0,l.R1)(d.y)((0,l.R1)(w),"col text-h3 text-center text-capitalize","bg-blue-3"))},(0,s.v_)((0,l.R1)(L)?(0,l.R1)(g)("barcodeEdit_add"):(0,l.R1)(g)("barcodeEdit_update")),3),(0,o.Lk)("div",{class:(0,s.C4)((0,l.R1)(d.y)((0,l.R1)(w),"col-md-auto q-pa-sm x-v-align-middle","bg-red-3"))},[(0,o.bF)(n,{color:"green",icon:"close",round:"",onClick:B,class:"q-mr-md"}),(0,l.R1)(L)?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(n,{key:0,color:"green",icon:"save_as",round:"",onClick:F,class:"q-mr-xs"})),(0,l.R1)(L)?((0,o.uX)(),(0,o.Wv)(n,{key:1,color:"green",icon:"save",round:"",onClick:F,class:"q-mr-xs"})):(0,o.Q3)("",!0)],2)]),(0,o.Lk)("div",_,[(0,o.bF)((0,l.R1)(r.A),{outlined:"","bottom-slots":"",clearable:"",modelValue:I.value.caption,"onUpdate:modelValue":a[0]||(a[0]=e=>I.value.caption=e),ref_key:"captionControl",ref:S,rules:[e=>!!e||(0,l.R1)(g)("barcodeEdit_item_validate_message")],label:(0,l.R1)(g)("barcodeEdit_item")},{prepend:(0,o.k6)((()=>[h])),_:1},8,["modelValue","rules","label"]),(0,o.bF)((0,l.R1)(r.A),{outlined:"","bottom-slots":"",clearable:"",modelValue:I.value.phone,"onUpdate:modelValue":a[1]||(a[1]=e=>I.value.phone=e),label:(0,l.R1)(g)("barcodeEdit_phone")},{prepend:(0,o.k6)((()=>[y])),_:1},8,["modelValue","label"]),(0,o.bF)((0,l.R1)(r.A),{outlined:"","bottom-slots":"",clearable:"",modelValue:I.value.barcode,"onUpdate:modelValue":a[2]||(a[2]=e=>I.value.barcode=e),ref_key:"captionBarcode",ref:x,rules:[e=>!!e||(0,l.R1)(g)("barcodeEdit_barcode_validate_message")],label:(0,l.R1)(g)("barcodeEdit_barcode")},{prepend:(0,o.k6)((()=>[k])),_:1},8,["modelValue","rules","label"]),(0,l.R1)(t).systemAdmin?((0,o.uX)(),(0,o.CE)("div",f,[(0,o.bF)(i,{outlined:"","bottom-slots":"",clearable:"","emit-value":"","map-options":"",dense:"","label-slot":"","use-input":"","use-chips":"",multiple:"","hide-dropdown-icon":"","input-debounce":"0","new-value-mode":"add-unique",modelValue:I.value.tags,"onUpdate:modelValue":a[3]||(a[3]=e=>I.value.tags=e),label:"Tags",hint:"Enter tag here and press enter...","hide-hint":""},{prepend:(0,o.k6)((()=>[R])),_:1},8,["modelValue"]),(0,o.bF)((0,l.R1)(r.A),{"lazy-rules":"",outlined:"","bottom-slots":"",dense:"",clearable:"",modelValue:I.value.notes,"onUpdate:modelValue":a[4]||(a[4]=e=>I.value.notes=e),label:"Notes",type:"textarea"},{prepend:(0,o.k6)((()=>[A])),_:1},8,["modelValue"])])):(0,o.Q3)("",!0)])],64)}}});var E=t(2807),q=t(1693),V=t(6088),w=t(8582),L=t.n(w);const S=(0,E.A)(C,[["__scopeId","data-v-6d31136c"]]),x=S;L()(C,"components",{QBtn:q.A,QInput:r.A,QSelect:V.A});const P={class:"item"},D=(0,o.pM)(Object.assign({name:"BarcodePage"},{__name:"barcodeEditPage",setup(e){return(e,a)=>{const t=(0,o.g2)("q-page");return(0,o.uX)(),(0,o.Wv)(t,{class:"row content-container"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",P,[(0,o.bF)(x)])])),_:1})}}}));var I=t(7716);const O=(0,E.A)(D,[["__scopeId","data-v-5a5385d4"]]),F=O;L()(D,"components",{QPage:I.A})}}]);