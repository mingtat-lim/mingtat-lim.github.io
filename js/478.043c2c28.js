"use strict";(globalThis["webpackChunkquasar_barcode"]=globalThis["webpackChunkquasar_barcode"]||[]).push([[478,870],{3465:(e,l,a)=>{a.r(l),a.d(l,{default:()=>ee});var t=a(1758),s=a(8790),o=a(8734),n=a(4533),c=a(3537),i=a(2291),d=a(1234),u=a(7396),g=a(9862),r=a(4907),b=a(9482),m=a(614),p=a(587);const _=e=>((0,t.Qi)("data-v-45abc283"),e=e(),(0,t.jt)(),e),k=_((()=>(0,t.Lk)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"},null,-1))),v={class:"row q-pa-xs"},h={class:"q-pa-ms"},R={class:"q-pa-ms"},y={class:"q-pa-ms"},V={class:"q-pa-ms"},q={class:"q-pa-ms"},D={class:"q-pa-ms"},F={key:0,class:"row q-pa-md"},L={class:"col"},A={class:"row q-pa-md"},C={class:"col"},f={class:"row q-pa-md"},P={class:"row items-center"},w={class:"row q-pa-md"},x={key:1,class:"row q-pa-md"},Q={class:"col x-v-align-middle"},E={class:"col text-right"},U={key:2,class:"q-pa-md"},S={class:"text-center"},z={key:3,class:"row q-pa-md"},X={class:"col x-v-align-middle"},M={key:0,class:"col text-right"},O=(0,t.pM)({__name:"settingsComponent",setup(e){const{t:l}=(0,c.s9)({useScope:"global"}),a=(0,m.C)(),{settings:_}=(0,p.bP)(a),O=()=>{a.updateSettings()},I=(0,r.A)(),K=(0,b.n)(),T=(0,o.KR)(!1),Y=(0,o.KR)(!1),j=(0,o.KR)(""),G=_.value.settingsPageDebug,B=[{label:"English",value:"en-US"},{label:"中文（新加坡）",value:"zh-SG"},{label:"中文（慈济）",value:"zh-TC"}],H=[{label:"settings_type_barcode",value:"barcode"},{label:"settings_type_qrcode",value:"qrcode"}],J=()=>{G&&console.log("onBackupClick");const e=Date.now(),l=g.Ay.formatDate(e,"YYYY-MM-DD-HH-mm"),a={settings:_.value,data:K.barcodes},t=(0,u.A)(`barcodeManager-${l}.txt`,JSON.stringify(a,null,4));!0===t||console.log("Error: "+t)},N=()=>{G&&console.log("onRestoreClick"),""!==j.value?I.dialog({title:l("dialog_title_confirmation"),message:l("dialog_message_restore"),cancel:{label:l("button_caption_cancel"),push:!0},ok:{label:l("button_caption_yes")},persistent:!0}).onOk((()=>{try{const e=JSON.parse(j.value);a.restore(e.settings),K.restore(e.data),I.notify({type:"positive",position:"center",message:l("settings_notify_restoreSuccess")})}catch(e){I.notify({type:"negative",position:"center",message:e.message})}})).onCancel((()=>{})).onDismiss((()=>{})):I.notify({type:"negative",position:"center",message:l("settings_notify_noDataError")})},W=()=>{G&&console.log("onResetClick"),I.dialog({title:l("dialog_title_confirmation"),message:l("dialog_message_reset"),cancel:{label:l("button_caption_cancel"),push:!0},ok:{label:l("button_caption_yes")},persistent:!0}).onOk((()=>{a.reset(),K.reset(),I.notify({type:"positive",position:"center",message:l("settings_notify_resetSuccess")})})).onCancel((()=>{})).onDismiss((()=>{}))};return(e,a)=>{const c=(0,t.g2)("q-toggle"),u=(0,t.g2)("q-select"),g=(0,t.g2)("q-option-group"),r=(0,t.g2)("q-btn"),b=(0,t.g2)("q-input");return(0,t.uX)(),(0,t.CE)(t.FK,null,[k,(0,t.Lk)("div",v,[(0,t.Lk)("div",{class:(0,s.C4)((0,o.R1)(n.y)((0,o.R1)(_).settingsPageDebug,"col text-h3 text-center text-capitalize","bg-blue-3"))},(0,s.v_)((0,o.R1)(l)("settings_title")),3)]),(0,t.Lk)("div",h,[(0,t.bF)(c,{modelValue:(0,o.R1)(_).systemAdmin,"onUpdate:modelValue":[a[0]||(a[0]=e=>(0,o.R1)(_).systemAdmin=e),O],label:(0,o.R1)(l)("settings_toggle_label_systemAdmin"),"checked-icon":"check","unchecked-icon":"clear"},null,8,["modelValue","label"])]),(0,t.Lk)("div",R,[(0,t.bF)(c,{modelValue:(0,o.R1)(_).barcodePageDebug,"onUpdate:modelValue":[a[1]||(a[1]=e=>(0,o.R1)(_).barcodePageDebug=e),O],label:(0,o.R1)(l)("settings_barcode_debugFlag"),"checked-icon":"check","unchecked-icon":"clear"},null,8,["modelValue","label"])]),(0,t.Lk)("div",y,[(0,t.bF)(c,{modelValue:(0,o.R1)(_).barcodeEditPageDebug,"onUpdate:modelValue":[a[2]||(a[2]=e=>(0,o.R1)(_).barcodeEditPageDebug=e),O],label:(0,o.R1)(l)("settings_barcodeEdit_debugFlag"),"checked-icon":"check","unchecked-icon":"clear"},null,8,["modelValue","label"])]),(0,t.Lk)("div",V,[(0,t.bF)(c,{modelValue:(0,o.R1)(_).settingsPageDebug,"onUpdate:modelValue":[a[3]||(a[3]=e=>(0,o.R1)(_).settingsPageDebug=e),O],label:(0,o.R1)(l)("settings_settings_debugFlag"),"checked-icon":"check","unchecked-icon":"clear"},null,8,["modelValue","label"])]),(0,t.Lk)("div",q,[(0,t.bF)(c,{modelValue:(0,o.R1)(_).homePageDebug,"onUpdate:modelValue":[a[4]||(a[4]=e=>(0,o.R1)(_).homePageDebug=e),O],label:(0,o.R1)(l)("settings_home_debugFlag"),"checked-icon":"check","unchecked-icon":"clear"},null,8,["modelValue","label"])]),(0,t.Lk)("div",D,[(0,t.bF)(c,{modelValue:(0,o.R1)(_).sharePageDebug,"onUpdate:modelValue":[a[5]||(a[5]=e=>(0,o.R1)(_).sharePageDebug=e),O],label:(0,o.R1)(l)("settings_share_debugFlag"),"checked-icon":"check","unchecked-icon":"clear"},null,8,["modelValue","label"])]),(0,o.R1)(_).settingsPageDebug?((0,t.uX)(),(0,t.CE)("div",F,[(0,t.Lk)("div",L,(0,s.v_)((0,o.R1)(l)("language"))+" -- "+(0,s.v_)((0,o.R1)(_).locale),1)])):(0,t.Q3)("",!0),(0,t.Lk)("div",A,[(0,t.Lk)("div",C,[(0,t.bF)(u,{outlined:"",modelValue:(0,o.R1)(_).locale,"onUpdate:modelValue":[a[6]||(a[6]=e=>(0,o.R1)(_).locale=e),O],options:B,"emit-value":"","map-options":"",label:(0,o.R1)(l)("settings_settings_language")},null,8,["modelValue","label"])])]),(0,t.Lk)("div",f,[(0,t.bF)(g,{inline:"",color:"primary",type:"radio",class:"q-mt-xs",options:H,modelValue:(0,o.R1)(_).type,"onUpdate:modelValue":[a[7]||(a[7]=e=>(0,o.R1)(_).type=e),O]},{label:(0,t.k6)((e=>[(0,t.Lk)("div",P,[(0,t.Lk)("span",null,(0,s.v_)((0,o.R1)(l)(e.label)),1)])])),_:1},8,["modelValue"])]),(0,t.Lk)("div",w,[(0,t.bF)(i.A,{label:(0,o.R1)(l)("settings_darkMode")},null,8,["label"])]),(0,o.R1)(_).systemAdmin?((0,t.uX)(),(0,t.CE)("div",x,[(0,t.Lk)("div",Q,[(0,t.bF)(c,{modelValue:T.value,"onUpdate:modelValue":a[8]||(a[8]=e=>T.value=e),label:(0,o.R1)(l)("settings_toggle_label_restore"),color:"green","checked-icon":"check","unchecked-icon":"clear"},null,8,["modelValue","label"])]),(0,t.Lk)("div",E,[(0,t.bF)(r,{push:"",color:"green",icon:"cloud_download",label:(0,o.R1)(l)("settings_button_label_backup"),size:"lg",onClick:J},null,8,["label"])])])):(0,t.Q3)("",!0),T.value&&(0,o.R1)(_).systemAdmin?((0,t.uX)(),(0,t.CE)("div",U,[(0,t.bF)(b,{"lazy-rules":"",outlined:"","bottom-slots":"",dense:"",modelValue:j.value,"onUpdate:modelValue":a[9]||(a[9]=e=>j.value=e),label:(0,o.R1)(l)("settings_textarea_label_jsonData"),type:"textarea"},null,8,["modelValue","label"]),(0,t.Lk)("div",S,[(0,t.bF)(r,{push:"",color:"green",icon:"cloud_upload",label:(0,o.R1)(l)("settings_button_label_restore"),size:"lg",onClick:N},null,8,["label"])])])):(0,t.Q3)("",!0),(0,o.R1)(_).systemAdmin?((0,t.uX)(),(0,t.CE)("div",z,[(0,t.Lk)("div",X,[(0,t.bF)(c,{modelValue:Y.value,"onUpdate:modelValue":a[10]||(a[10]=e=>Y.value=e),label:(0,o.R1)(l)("settings_toggle_label_reset"),color:"red","checked-icon":"check","unchecked-icon":"clear"},null,8,["modelValue","label"])]),Y.value?((0,t.uX)(),(0,t.CE)("div",M,[(0,t.bF)(r,{push:"",color:"red",icon:"restart_alt",label:(0,o.R1)(l)("settings_button_label_reset"),size:"lg",onClick:W},null,8,["label"])])):(0,t.Q3)("",!0)])):(0,t.Q3)("",!0),(0,o.R1)(_).settingsPageDebug?((0,t.uX)(),(0,t.Wv)(d.A,{key:4,class:"col-3 q-pa-md items-start q-gutter-md",value:(0,o.R1)(_),title:"db settings"},null,8,["value"])):(0,t.Q3)("",!0)],64)}}});var I=a(2807),K=a(6908),T=a(6088),Y=a(9495),j=a(1693),G=a(9270),B=a(8582),H=a.n(B);const J=(0,I.A)(O,[["__scopeId","data-v-45abc283"]]),N=J;H()(O,"components",{QToggle:K.A,QSelect:T.A,QOptionGroup:Y.A,QBtn:j.A,QInput:G.A});const W=(0,t.pM)(Object.assign({name:"SettingsPage"},{__name:"settingsPage",setup(e){return(e,l)=>{const a=(0,t.g2)("q-page");return(0,t.uX)(),(0,t.Wv)(a,null,{default:(0,t.k6)((()=>[(0,t.bF)(N)])),_:1})}}}));var $=a(7716);const Z=(0,I.A)(W,[["__scopeId","data-v-a0d54ff8"]]),ee=Z;H()(W,"components",{QPage:$.A})}}]);