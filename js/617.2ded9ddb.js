"use strict";(globalThis["webpackChunkquasar_barcode"]=globalThis["webpackChunkquasar_barcode"]||[]).push([[617],{1617:(e,t,n)=>{n.r(t),n.d(t,{default:()=>oe});var a=n(1758),s=n(8790),l=n(8734),r=n(9104),o=n(4533),i=n(883);const u=["","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],d=["","一","二","三","四","五","六","日"],m=[{icon:"sym_o_auto_stories",event:"志工精进半日 {YEAR} - {SEQ}",event_zh:"志工精进半日 {YEAR} - {SEQ}",event_en:"Diligence Day {YEAR} - {SEQ}",startDate:"2024-01-07",endDate:"2024-12-31",frequency:"monthly",startTime:"07:00am",endTime:"12:00pm",excludeDates:["2024-03-03","2024-06-02","2024-09-01","2024-12-01"],tag:["培訓"]},{icon:"sym_o_auto_stories",event:"全球精进日 {YEAR} - {SEQ}/4",event_zh:"全球精进日 {YEAR} - {SEQ}/4",event_en:"Worldwide Diligence Day {YEAR} - {SEQ}",startDate:"2024-03-03",endDate:"2024-12-31",frequency:"quarterly",startTime:"07:00am",endTime:"05:00pm",excludeDates:[],tag:["培訓"]},{icon:"sym_o_volunteer_activism",event:"慈善日",event_zh:"慈善日",event_en:"Charity Day",startDate:"2024-01-14",endDate:"2024-12-31",frequency:"monthly",startTime:"09:00am",endTime:"05:00pm",excludeDates:["2024-02-11"],tag:["慈善"]},{icon:"sym_o_recycling",event:"环境永续日",event_zh:"环境永续日",event_en:"Environmental Sustainability Day",startDate:"2024-01-21",endDate:"2024-12-31",frequency:"monthly",startTime:"09:00am",endTime:"12:00pm",excludeDates:[],tag:["环保"]},{icon:"sym_o_groups",event:"和合互协会议",event_zh:"和合互协会议",event_en:"Harmony Cooperation Monthly Meeting",startDate:"2024-01-02",endDate:"2024-12-31",frequency:"monthly",startTime:"07:45pm",endTime:"09:45pm",excludeDates:[],tag:["其他"]},{icon:"sym_o_book_4",event:"大組共修會",event_zh:"大組共修會",event_en:"Gong Xiu 大组共修会",startDate:"2024-01-27",endDate:"2024-12-31",frequency:"monthly",startTime:"07:30pm",endTime:"09:30pm",excludeDates:[],tag:["宗教"]},{icon:"sym_o_flag",event:"慈濟募款日",event_zh:"慈濟募款日",event_en:"TzhChi Flag Day",startDate:"2023-09-23",endDate:"2024-12-31",frequency:"yearly",startTime:"07:00am",endTime:"07:00pm",excludeDates:[],tag:["募款"]},{icon:"sym_o_model_training",event:"培訓委員慈誠培訓課 24/25（{SEQ}/6）",event_zh:"培訓委員慈誠培訓課 24/25（{SEQ}/6）",event_en:"Volunteer Training (Attachment Volunteers) 24/25（{SEQ}/6）",startDate:"2024-08-04",endDate:"2025-06-30",frequency:"monthly",startTime:"07:00am",endTime:"05:00pm",excludeDates:["2024-09-01","2025-01-05","2025-02-02","2025-03-02","2025-05-04"],tag:["培訓"]},{icon:"sym_o_model_training",event:"見習委員慈誠暨灰衣志工培訓課",event_zh:"見習委員慈誠暨灰衣志工培訓課",event_en:"Volunteer Training (Grey Uniform & Trainee Volunteers)",startDate:"2024-07-07",endDate:"2025-06-30",frequency:"monthly",startTime:"01:00pm",endTime:"05:00pm",excludeDates:["2024-08-04","2024-09-01","2024-10-06","2024-11-03","2024-12-01","2025-01-05","2025-02-02","2025-04-06","2025-06-01"],tag:["培訓"]},{icon:"sym_o_camping",event:"2024年四合一干部精进研习营",event_zh:"2024年四合一干部精进研习营",startDate:"2024-09-20",endDate:"2024-09-20",frequency:"daily",startTime:"04:00pm",endTime:"07:00pm",excludeDates:[],tag:["培訓"]},{icon:"sym_o_camping",event:"2024年四合一干部精进研习营",event_zh:"2024年四合一干部精进研习营",startDate:"2024-09-21",endDate:"2024-09-22",frequency:"daily",startTime:"07:00am",endTime:"07:00pm",excludeDates:[],tag:["培訓"]},{icon:"sym_o_camping",event:"新進志工培訓課（中）",event_zh:"新進志工培訓課（中）",event_en:"New Volunteer Training (Chinese)",startDate:"2024-07-07",endDate:"2025-06-30",frequency:"monthly",startTime:"01:00pm",endTime:"05:00pm",excludeDates:["2024-07-07","2024-08-04","2024-10-06","2024-12-01","2025-01-05","2025-02-02","2025-03-02","2025-05-04"],tag:["培訓"]},{icon:"sym_o_camping",event:"新進志工培訓課（英）",event_zh:"新進志工培訓課（英）",event_en:"New Volunteer Training (English)",startDate:"2024-07-07",endDate:"2025-06-30",frequency:"monthly",startTime:"01:00pm",endTime:"05:00pm",excludeDates:["2024-08-04","2024-09-01","2024-11-03","2024-12-01","2025-01-05","2025-02-02","2025-04-06","2025-05-04","2025-06-01"],tag:["培訓"]},{icon:"sym_o_book_5",event:"南區 無量義法髓頌社區 讀書會",event_zh:"南區 無量義法髓頌社區 讀書會",event_en:"South Zone Community Book Appreciation - Sutra of Infinite Meaning",startDate:"2024-07-19",endDate:"2025-06-30",frequency:"monthly",startTime:"07:45pm",endTime:"09:45pm",excludeDates:["2024-09-20"],tag:["教育"]},{icon:"sym_o_book_5",event:"南区线上个案研讨会",event_zh:"南区线上个案研讨会",event_en:"South Zone Online Charity Case Workshop",startDate:"2024-08-27",endDate:"2025-06-30",frequency:"monthly",startTime:"07:30pm",endTime:"09:45pm",excludeDates:[],tag:["慈善"]},{icon:"volunteer_activism",event:"慈善闻声救苦 募款活动 {SEQ}/66",event_zh:"慈善闻声救苦 募款活动 {SEQ}/66",event_en:"Empower Compassion, Empowering Lives {SEQ}/66",startDate:"2024-08-27",endDate:"2024-10-31",frequency:"daily",startTime:"2024-08-27",endTime:"2024-10-31",excludeDates:[],tag:["募款"]},{icon:"sym_o_credit_card_heart",event:"慈濟 新春義賣會 {SEQ}/2",event_zh:"慈濟 新春義賣會 {SEQ}/2",startDate:"2025-01-04",endDate:"2025-01-05",frequency:"daily",startTime:"08:00am",endTime:"06:00pm",excludeDates:[],tag:["募款"]},{icon:"sym_o_volunteer_activism",event:"慈善日",event_zh:"慈善日",event_en:"Charity Day",startDate:"2025-01-12",endDate:"2025-12-31",frequency:"monthly",startTime:"09:00am",endTime:"05:00pm",excludeDates:[],tag:["慈善"]},{icon:"sym_o_recycling",event:"环境永续日",event_zh:"环境永续日",event_en:"Environmental Sustainability Day",startDate:"2025-01-19",endDate:"2025-12-31",frequency:"monthly",startTime:"09:00am",endTime:"12:00pm",excludeDates:[],tag:["环保"]}];function c(e,t,n,a){const s=new Date(e),l=new Date(t),r=[];while(s<=l){const e=s.getDay();e>=n&&e<=a&&r.push(new Date(s).toISOString().substring(0,10)),s.setDate(s.getDate()+1)}return r}function v(e,t){return{desc:`Weekday starting from ${e} until ${t}`,dates:c(e,t,0,7)}}function y(e){const t=new Date(e),n=t.getDay(),a=t.getDate(),s=Math.ceil(a/7);return{dayOfWeek:n,weekNumber:s}}function g(e,t){const n=new Date(e),a=new Date(t),s=[],{dayOfWeek:l,weekNumber:r}=y(n),o=`Every ${r}${["","st","nd","rd","th","th"][r]} ${["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][l]} of the Month starting from ${e} until ${t}`;while(n<=a){const e=new Date(`${n.toISOString().substring(0,7)}-01`);while(e.getDay()!==l)e.setDate(e.getDate()+1);r>1&&e.setDate(e.getDate()+7*(r-1)),e<=a&&s.push(new Date(e).toISOString().substring(0,10)),n.setMonth(n.getMonth()+1),n.setDate(1)}return{desc:o,dates:s}}function D(e){const t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=t.indexOf(e);if(-1===n)return"Invalid month name";const a=[];for(let s=0;s<12;s+=3){const e=(n+s)%12;a.push(t[e])}return a}function h(e,t){const n=new Date(e),a=new Date(t),s=[],{dayOfWeek:l,weekNumber:r}=y(n),o=D(n.toLocaleString("default",{month:"long"})),i=`Quarterly on ${r}${["","st","nd","rd","th","th"][r]} ${["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][l]} of ${o} starting from ${e} until ${t}`;while(n<=a){while(n.getDay()!==l)n.setDate(n.getDate()+1);r>1&&s.length>0&&n.setDate(n.getDate()+7*(r-1)),s.push(new Date(n).toISOString().substring(0,10)),n.setMonth(n.getMonth()+3),n.setDate(1)}return{desc:i,dates:s}}function _(e,t){const n=new Date(e),a=new Date(t),{dayOfWeek:s,weekNumber:l}=y(n),r=`Yearly on ${l}${["","st","nd","rd","th","th"][l]} ${["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][s]} of ${n.toLocaleString("default",{month:"long"})} starting from ${e} until ${t}`,o=[new Date(n).toISOString().substring(0,10)];while(1){n.setFullYear(n.getFullYear()+1),n.setMonth(new Date(e).getMonth()),n.setDate(1);while(n.getDay()!==s)n.setDate(n.getDate()+1);let t=1;while(t<l)n.setDate(n.getDate()+7),t++;if(n>a)break;o.push(new Date(n).toISOString().substring(0,10))}return{desc:r,dates:o}}function p(e){const t=e.match(/(\d+):(\d+)([ap]m)/);if(null!==t){const[e,n,a]=t.slice(1),s="pm"===a.toLowerCase()&&"12"!==e?parseInt(e)+12:"am"===a.toLowerCase()&&"12"===e?0:parseInt(e);return`${s.toString().padStart(2,"0")}:${n}`}{const e=0,t=0;return`${e.toString().padStart(2,"0")}:${t}`}}function b(e,t){if(null===t)return!0;if(0===t.length)return!0;const n=new Set(e);for(const a of t)if(n.has(a))return!0;return!1}function f(e,t,n){const a=i.c9.fromISO(i.c9.now().toISO().substring(0,10)),s={days:t+200},l=a.plus(s),r=[],o=a.year,c="en-US"===n?u:d;m.forEach((t=>{var s,u;b(t.tag,e)&&(t.event="en-US"===n?null!==(s=t.event_en)&&void 0!==s?s:t.event_zh:null!==(u=t.event_zh)&&void 0!==u?u:t.event,"daily"===t.frequency?t.results=v(t.startDate,t.endDate):"monthly"===t.frequency?t.results=g(t.startDate,t.endDate):"quarterly"===t.frequency?t.results=h(t.startDate,t.endDate):"yearly"===t.frequency&&(t.results=_(t.startDate,t.endDate)),t.results&&(t.eventDates=t.results.dates.filter((e=>!t.excludeDates.includes(e))),t.eventTitles=[],t.eventDates.forEach(((e,n)=>{var a;let s=t.event.replace("{SEQ}",(n+1).toString());s=s.replace("{YEAR}",o.toString()),null===(a=t.eventTitles)||void 0===a||a.push({eventDate:e,eventName:s})})),t.eventTitles=t.eventTitles.filter((({eventDate:e})=>i.c9.fromISO(e)>=a&&i.c9.fromISO(e)<l)),t.eventTitles.length>0&&t.eventTitles.forEach((({eventDate:e,eventName:n})=>{r.push({eventDate:e,startTime:t.startTime,endTime:t.endTime,eventName:n,icon:t.icon,day:c[i.c9.fromISO(e).weekday]})}))))})),r.sort(((e,t)=>{if(e.eventDate!==t.eventDate)return new Date(e.eventDate).getTime()-new Date(t.eventDate).getTime();const n=p(e.startTime),a=p(t.startTime);if(n!==a)return n.localeCompare(a);const s=p(e.endTime),l=p(t.endTime);return s!==l?s.localeCompare(l):e.eventName.localeCompare(t.eventName)}));const y=r.reduce(((e,t)=>{const n=t.eventDate.slice(0,7);let a=e.find((e=>e.month===n));return a||(a={month:n,events:[]},e.push(a)),a.events.push(t),e}),[]);return{eventList:r,groupedEventsArray:y}}var T=n(614),S=n(587),k=n(8993);const q="events-db-v1",w=()=>({days:60,selectedTab:["培訓","慈善","环保","教育","宗教","募款","其他"]}),E=()=>{let e=k.A.getItem(q);return null===e&&(e=w()),e},x=(0,S.nY)(q,{state:()=>({states:E()}),actions:{updateStates(){k.A.set(q,this.states)}}}),A={class:"text-right q-gutter-xs self-center"},Q={class:""},C={class:"q-pa-sm"},F={class:"q-pa-sm"},V={class:"row items-center"},$={class:""},z={class:"row items-center"},I={class:"col-6 text-subtitle1"},O=!1,M=(0,a.pM)({__name:"xEventsComponent",setup(e){const t=(0,T.C)(),{settings:n}=(0,S.bP)(t),i=x(),{states:u}=(0,S.bP)(i),d=(0,l.KR)(!1),m=[{label:"培訓",value:"培訓"},{label:"慈善",value:"慈善"},{label:"环保",value:"环保"},{label:"教育",value:"教育"},{label:"宗教",value:"宗教"},{label:"募款",value:"募款"},{label:"其他",value:"其他"}],c=(0,l.KR)(""),v=(0,a.EW)((()=>{i.updateStates();const e=f(u.value.selectedTab,u.value.days,n.value.locale).groupedEventsArray;return 0===e.filter((e=>e.month===c.value)).length&&(c.value=e.length>0?e[0].month:""),e}));return(e,t)=>{const n=(0,a.g2)("q-space"),i=(0,a.g2)("q-btn"),y=(0,a.g2)("q-card-actions"),g=(0,a.g2)("q-slider"),D=(0,a.g2)("q-field"),h=(0,a.g2)("q-option-group"),_=(0,a.g2)("q-slide-transition"),p=(0,a.g2)("q-card"),b=(0,a.g2)("q-tab"),f=(0,a.g2)("q-tabs"),T=(0,a.g2)("q-icon"),S=(0,a.g2)("q-input"),k=(0,a.g2)("q-card-section"),q=(0,a.g2)("q-tab-panel"),w=(0,a.g2)("q-tab-panels");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(y,{class:"row q-pa-none text-right"},{default:(0,a.k6)((()=>[(0,a.bF)(n),(0,a.Lk)("div",A,[(0,a.bF)(i,{color:"blue",flat:"",dense:"",icon:d.value?"keyboard_arrow_up":"keyboard_arrow_down",onClick:t[0]||(t[0]=e=>d.value=!d.value)},{default:(0,a.k6)((()=>[(0,a.Lk)("div",Q,(0,s.v_)(d.value?"隐藏":"显示")+"搜索条件",1)])),_:1},8,["icon"])])])),_:1}),(0,a.bF)(_,null,{default:(0,a.k6)((()=>[(0,a.bo)((0,a.Lk)("div",null,[(0,a.Lk)("div",null,[(0,a.Lk)("div",C,[(0,a.bF)(D,{outlined:"",dense:"","stack-label":"",label:`显示未来 ${(0,l.R1)(u).days} 天内的活动`},{default:(0,a.k6)((()=>[(0,a.bF)(g,{modelValue:(0,l.R1)(u).days,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,l.R1)(u).days=e),min:10,max:90,step:10,color:"light-green",markers:"","marker-labels":""},null,8,["modelValue"])])),_:1},8,["label"])]),(0,a.Lk)("div",F,[(0,a.bF)(D,{outlined:"",dense:"","stack-label":"",label:"活動性質"},{control:(0,a.k6)((()=>[(0,a.bF)(h,{inline:"",color:"primary",type:"checkbox",options:m,modelValue:(0,l.R1)(u).selectedTab,"onUpdate:modelValue":t[2]||(t[2]=e=>(0,l.R1)(u).selectedTab=e)},null,8,["modelValue"])])),_:1})])])],512),[[r.aG,d.value]])])),_:1})])),_:1}),(0,a.bF)(f,{modelValue:c.value,"onUpdate:modelValue":t[3]||(t[3]=e=>c.value=e),align:"justify",class:"bg-primary text-white shadow-2"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(v.value,((e,t)=>((0,a.uX)(),(0,a.Wv)(b,{key:t,name:e.month,icon:"web","no-caps":"",label:e.month},null,8,["name","label"])))),128))])),_:1},8,["modelValue"]),(0,a.bF)(w,{modelValue:c.value,"onUpdate:modelValue":t[4]||(t[4]=e=>c.value=e),animated:""},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(v.value,((e,t)=>((0,a.uX)(),(0,a.Wv)(q,{key:t,name:e.month,class:(0,s.C4)((0,l.R1)(o.y)(O,"q-pa-none","bg-blue-10"))},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.events,((e,t)=>((0,a.uX)(),(0,a.Wv)(p,{class:"q-pa-xs q-ma-xs q-mb-md",key:t},{default:(0,a.k6)((()=>[(0,a.bF)(k,{class:"row text-h5 q-pa-none"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",{class:(0,s.C4)((0,l.R1)(o.y)(O,"col","bg-blue-2"))},[(0,a.Lk)("div",V,[(0,a.bF)(T,{name:e.icon,color:"blue",size:"lg",class:""},null,8,["name"]),(0,a.Lk)("div",$,(0,s.v_)(e.eventName),1)]),(0,a.Lk)("div",z,[(0,a.Lk)("div",I,(0,s.v_)(e.eventDate)+" ("+(0,s.v_)(e.day)+")",1),(0,a.bF)(S,{modelValue:e.startTime,"onUpdate:modelValue":t=>e.startTime=t,label:"开始",readonly:"",dense:"",class:(0,s.C4)((0,l.R1)(o.y)(O,"col-3","bg-red-2"))},null,8,["modelValue","onUpdate:modelValue","class"]),(0,a.bF)(S,{modelValue:e.endTime,"onUpdate:modelValue":t=>e.endTime=t,label:"结束",readonly:"",dense:"",class:(0,s.C4)((0,l.R1)(o.y)(O,"col-3","bg-red-2"))},null,8,["modelValue","onUpdate:modelValue","class"])])],2)])),_:2},1024)])),_:2},1024)))),128))])),_:2},1032,["name","class"])))),128))])),_:1},8,["modelValue"])],64)}}});var R=n(3316),L=n(2669),W=n(3676),N=n(1693),U=n(3605),Y=n(7156),X=n(1444),P=n(9495),K=n(2980),G=n(9761),J=n(9041),j=n(1746),B=n(4189),Z=n(492),H=n(9270),ee=n(8582),te=n.n(ee);const ne=M,ae=ne;te()(M,"components",{QCard:R.A,QCardActions:L.A,QSpace:W.A,QBtn:N.A,QSlideTransition:U.A,QField:Y.A,QSlider:X.A,QOptionGroup:P.A,QTabs:K.A,QTab:G.A,QTabPanels:J.A,QTabPanel:j.A,QCardSection:B.A,QIcon:Z.A,QInput:H.A});const se=(0,a.pM)(Object.assign({name:"EventsPage"},{__name:"eventsPage",setup(e){return(e,t)=>{const n=(0,a.g2)("q-page");return(0,a.uX)(),(0,a.Wv)(n,null,{default:(0,a.k6)((()=>[(0,a.bF)(ae)])),_:1})}}}));var le=n(7716);const re=se,oe=re;te()(se,"components",{QPage:le.A})}}]);