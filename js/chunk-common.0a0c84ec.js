"use strict";(globalThis["webpackChunkquasar_barcode"]=globalThis["webpackChunkquasar_barcode"]||[]).push([[996],{1458:(e,t,a)=>{a.d(t,{Z:()=>o,p:()=>l});class l{static SG_MOBILE_REGEX=/^[89]\d{7}$/;static MY_MOBILE_REGEX=/^01[0-46-9]\d{7,8}$/;static validateSingaporeMobile(e){const t=this.cleanPhoneNumber(e);if(/^(\+65|65)/.test(t)){const e=t.replace(/^\+?65/,"");return this.SG_MOBILE_REGEX.test(e)}return this.SG_MOBILE_REGEX.test(t)}static validateMalaysiaMobile(e){const t=this.cleanPhoneNumber(e);if(/^(\+60|60)/.test(t)){const e=t.replace(/^\+?60/,"");return this.MY_MOBILE_REGEX.test("0"+e)}return this.MY_MOBILE_REGEX.test(t)}static validateMobileNumber(e){const t=this.cleanPhoneNumber(e),a=e;if(/^(\+65|65)/.test(t)){const e=t.replace(/^\+?65/,""),l=this.SG_MOBILE_REGEX.test(e);return{isValid:l,country:"SG",type:l?"mobile":"unknown",formatted:l?`+65 ${e}`:a,original:a}}if(/^(\+60|60)/.test(t)){const e=t.replace(/^\+?60/,""),l=this.MY_MOBILE_REGEX.test("0"+e);return{isValid:l,country:"MY",type:l?"mobile":"unknown",formatted:l?`+60 ${e}`:a,original:a}}return this.SG_MOBILE_REGEX.test(t)?{isValid:!0,country:"SG",type:"mobile",formatted:`+65 ${t}`,original:a}:this.MY_MOBILE_REGEX.test(t)?{isValid:!0,country:"MY",type:"mobile",formatted:`+60 ${t.substring(1)}`,original:a}:{isValid:!1,country:l.determineCountryFromNumber(t),type:"unknown",formatted:a,original:a}}static determineCountryFromNumber(e){const t=this.cleanPhoneNumber(e);return/^(\+65|65)/.test(t)||t.startsWith("8")||t.startsWith("9")?"SG":/^(\+60|60)/.test(t)||t.startsWith("0")?"MY":null}static formatMobileNumber(e,t){const a=this.cleanPhoneNumber(e);if("SG"===t||!t&&this.validateSingaporeMobile(a)){const e=a.replace(/^\+?65/,"");if(this.SG_MOBILE_REGEX.test(e))return`+65 ${e}`}if("MY"===t||!t&&this.validateMalaysiaMobile(a)){const e=a.replace(/^\+?60/,"");if(this.MY_MOBILE_REGEX.test(e))return`+60 ${e}`}return e}static extractLocalNumber(e){const t=this.cleanPhoneNumber(e),a=t.replace(/^\+65/,"").replace(/^65/,"").replace(/^\+60/,"").replace(/^60/,"");return a}static isSingaporeMobilePattern(e){const t=this.extractLocalNumber(e);return this.SG_MOBILE_REGEX.test(t)}static isMalaysiaMobilePattern(e){const t=this.extractLocalNumber(e);return this.MY_MOBILE_REGEX.test(t)}static cleanPhoneNumber(e){const t=e.replace(/[\s\-().]/g,"");return t}}class o{static parsePhoneNumber(e){return l.validateMobileNumber(e)}static getFormattedNumbers(e){const t=l.validateMobileNumber(e);if(!t.isValid||!t.country)return null;const a=l.extractLocalNumber(e);return{international:t.formatted,local:"SG"===t.country?o.formatSingaporeLocalNumber(a):o.formatMalaysiaLocalNumber(t.formatted),country:t.country}}static formatSingaporeLocalNumber(e){const t=l.extractLocalNumber(e);return t.substring(0,4)+" "+t.substring(4)}static formatMalaysiaLocalNumber(e){const t=l.extractLocalNumber(e);return 10===t.length?"0"+t.substring(0,2)+" "+t.substring(2,6)+" "+t.substring(6):9===t.length?"0"+t.substring(0,2)+" "+t.substring(2,5)+" "+t.substring(5):"0"+t}static areNumbersEqual(e,t){const a=l.cleanPhoneNumber(e),o=l.cleanPhoneNumber(t),s=a.replace(/^\+?65/,"").replace(/^\+?60/,""),n=o.replace(/^\+?65/,"").replace(/^\+?60/,"");return s===n}}},8677:(e,t,a)=>{function l(e,t,a){return e?`${t} ${a}`:t}a.d(t,{y:()=>l})},5887:(e,t,a)=>{a.d(t,{n:()=>r});var l=a(6305),o=a(5969);const s="barcode-db-v1",n="barcode-db",r=(0,l.nY)(s,{state:()=>({_loaded:!1,_barcodes:new Array}),getters:{barcodes:e=>{if(!e._loaded){const t=o.A.getItem(s);if(e._barcodes=null!==t?t:new Array,e._loaded=!0,null!==o.A.getItem(n)){const t=JSON.parse(o.A.getItem(n)+"");t.barCodes.forEach((t=>{e._barcodes.push({caption:t.caption,barcode:t.barcode,expended:!1})})),o.A.removeItem(n),o.A.set(s,e._barcodes)}}return e._barcodes}},actions:{save(){o.A.set(s,this._barcodes)},add(e){this._barcodes.push(e),this.save()},addOrUpdate(e){const t=this._barcodes.findIndex((t=>t.barcode===e.barcode));if(-1!==t){const a=this._barcodes[t];console.log("existingItem",JSON.stringify(a)),console.log("item",JSON.stringify(e)),a&&(!e.name||null!==a.name&&""!==a.name&&void 0!==a.name||(a.name=e.name),!e.phone||null!==a.phone&&""!==a.phone&&void 0!==a.phone||(a.phone=e.phone),!e.status||null!==a.status&&""!==a.status&&void 0!==a.status||(a.status=e.status),!e.region||null!==a.region&&""!==a.region&&void 0!==a.region||(a.region=e.region),!e.zone||null!==a.zone&&""!==a.zone&&void 0!==a.zone||(a.zone=e.zone),!e.team||null!==a.team&&""!==a.team&&void 0!==a.team||(a.team=e.team),!e.tags||null!==a.tags&&void 0!==a.tags||(a.tags=e.tags),!e.notes||null!==a.notes&&""!==a.notes&&void 0!==a.notes||(a.notes=e.notes)),console.log("UpdatedItem",JSON.stringify(a))}else this._barcodes.push(e);this.save()},update(e,t){this._barcodes[t]={...e},this.save()},delete(e){return e>=0&&e<this._barcodes.length?(this._barcodes.splice(e,1),this.save(),!0):(console.error("Index out of range"),!1)},restore(e){this._barcodes=e,this.save()},reset(){this._barcodes=[],this.save()}}})},7047:(e,t,a)=>{a.d(t,{C:()=>i});var l=a(6305),o=a(5969),s=a(2291);const n="settings-db-v2",r=()=>({locale:"zh-TC",type:"barcode",systemAdmin:!1,barcodePageDebug:!1,barcodeEditPageDebug:!1,settingsPageDebug:!1,sharePageDebug:!1,homePageDebug:!1,defaultTab:"/barcode",allowSharedBarcodeFlag:!1,dragTimeoutInSeconds:5,qrCodeTimeoutInSeconds:10}),c=()=>{const{locale:e}=(0,s.s9)({useScope:"global"}),t=o.A.getItem(n),a=t||r();return e.value=a.locale,void 0!==a.allowSharedBarcodeFlag&&null!==a.allowSharedBarcodeFlag||(a.allowSharedBarcodeFlag=!1),void 0!==a.defaultTab&&null!==a.defaultTab||(a.defaultTab="/barcode"),void 0!==a.dragTimeoutInSeconds&&null!==a.dragTimeoutInSeconds||(a.dragTimeoutInSeconds=5),void 0!==a.qrCodeTimeoutInSeconds&&null!==a.qrCodeTimeoutInSeconds||(a.qrCodeTimeoutInSeconds=10),a},i=(0,l.nY)(n,{state:()=>({settings:c(),lang:(0,s.s9)({useScope:"global"})}),actions:{updateSettings(){this.settings.locale!==this.lang.locale&&(this.lang.locale=this.settings.locale),o.A.set(n,this.settings)},restore(e){this.settings=e,this.updateSettings()},reset(){this.settings=r(),this.updateSettings()}}})},7875:(e,t,a)=>{a.d(t,{A:()=>h});var l=a(1347);function o(e,t,a,o,s,n){const r=(0,l.g2)("q-toggle");return(0,l.uX)(),(0,l.Wv)(r,{modelValue:e.currentMode,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.currentMode=t),e.updateMode],"aria-label":"Dark mode toggle","checked-icon":"dark_mode","true-value":"dark","unchecked-icon":"light_mode","false-value":"light",color:e.classes({colors:["primary","dark"]}),"keep-color":""},null,8,["modelValue","color","onUpdate:modelValue"])}var s=a(4187),n=a(5070);const r="mode",c="light",i="dark";function d(){const e=(0,s.KR)();function t(){return localStorage.getItem(r)}function a(t){e.value=t,n.A.set(t===i),localStorage.setItem(r,t)}function o({prefix:e="",invert:t="",colors:a=["white","dark"]}={}){const l=e?`${e}-${a[0]}`:a[0],o=e?`${e}-${a[1]}`:a[1];return t?n.A.isActive?o:l:n.A.isActive?l:o}return(0,l.sV)((()=>{a(t()??c)})),{currentMode:e,updateMode:a,classes:o}}const u=(0,l.pM)({name:"x-dark-mode",setup(){const{currentMode:e,updateMode:t,classes:a}=d();return{currentMode:e,updateMode:t,classes:a}}});var b=a(2968),v=a(5725),g=a(272),m=a.n(g);const p=(0,b.A)(u,[["render",o]]),h=p;m()(u,"components",{QToggle:v.A})},8234:(e,t,a)=>{a.d(t,{A:()=>d});var l=a(1347),o=a(7763);function s(e,t,a,s,n,r){return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("h5",null,(0,o.v_)(e.title),1),(0,l.Lk)("pre",null,(0,o.v_)(r.valueString),1)])}const n={title:{required:!0,type:String},value:{required:!0}},r={name:"raw-displayer",props:n,computed:{valueString(){return JSON.stringify(this.value,null,2)}}};var c=a(2968);const i=(0,c.A)(r,[["render",s],["__scopeId","data-v-11f63c05"]]),d=i},8105:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Ae});var l=a(1347),o=a(7763),s=a(4187),n=a(8633),r=a(8677),c=a(4144),i=a(1868),d=a(296),u=a(6179),b=a(3022),v=a(455),g=a(5887),m=a(7047),p=a(6305),h=a(2291),f=a(5686),_=a.n(f),k=a(8234),R=a(5969);const y="filters-db-v1",x=()=>({selectedTags:[],selectedStatus:[],selectedRegions:[],selectedZones:[],selectedTeams:[]}),C=()=>{let e=R.A.getItem(y);return null===e&&(e=x()),e},E=(0,p.nY)(y,{state:()=>({states:C()}),actions:{updateStates(){R.A.set(y,this.states)}}});var L=a(1458);const w={class:"row q-pa-xs no-wrap"},S={key:0,class:"row q-pa-xs no-wrap justify-center"},q={class:"text-h4"},F={key:0,class:"error"},M={class:"fit row wrap justify-center items-start content-start"},A={class:"bg-blue-4",style:{width:"300px",height:"300px"}},T={class:"text-right q-gutter-xs self-center"},I={class:""},N={class:"q-pa-sm"},X={key:0,class:"q-pa-sm"},O={key:0,class:"q-pa-md"},Q={class:"row"},V={class:"col"},P={class:"fit row wrap justify-start items-center content-start"},G={class:"text-h5 q-pr-xs"},B=["href"],W={key:1},z={class:"q-pl-sm text-h6"},K={class:"col q-pr-xs text-right"},$={class:"q-pl-sm text-h6"},D={class:"col q-pa-xs text-center"},Y={class:"q-pa-md"},U={key:0},H={class:"row"},Z={class:"row"},J={class:"col"},j={class:"fit row wrap justify-start items-center content-start"},ee={class:"text-h5"},te=["href"],ae={key:1},le={class:"q-pl-sm text-h6"},oe={class:"col q-pr-xs text-right"},se={class:"q-pl-sm text-h6"},ne={class:"col q-pa-xs text-center"},re={key:0,class:"decode-result"},ce={key:1,class:"decode-result"},ie={key:2,class:"decode-result"},de={key:3,class:"decode-result"},ue=(0,l.pM)({__name:"barcodeComponent",setup(e){const t=(0,s.KR)(null),a=(0,s.KR)(0);function f(){t.value&&(a.value=t.value.offsetHeight)}(0,l.sV)((()=>{(0,l.dY)((()=>{f(),window.addEventListener("resize",f)}))})),(0,l.xo)((()=>{window.removeEventListener("resize",f)}));const R=(0,s.KR)("off"),y=(0,s.KR)(),x=(0,b.A)(),C=(0,m.C)(),{settings:ue}=(0,p.bP)(C),{t:be}=(0,h.s9)(),ve=(0,g.n)(),ge=(0,v.rd)(),me=ue.value.barcodePageDebug,pe=E(),{states:he}=(0,p.bP)(pe),fe=(0,s.KR)(!1);let _e=[];const ke=[{label:be("volunteer_status_greyUniform"),value:"灰衣"},{label:be("volunteer_status_traineeCommissioners"),value:"见习委员"},{label:be("volunteer_status_traineeFaithCorp"),value:"见习慈诚"},{label:be("volunteer_status_attachmentCommissioners"),value:"培训委员"},{label:be("volunteer_status_attachmentFaithCorp"),value:"培训慈诚"},{label:be("volunteer_status_certifiedCommissioners"),value:"委员"},{label:be("volunteer_status_certifiedFaithCorp"),value:"慈诚"}],Re=[{label:be("region_east"),value:"东"},{label:be("region_central"),value:"中"},{label:be("region_north"),value:"北"},{label:be("region_south"),value:"南"}],ye=[{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"}],xe=[{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"}],Ce=(0,s.KR)(ve.barcodes),[Ee,...Le]=Ce.value,we=new Set;ve.barcodes.forEach((e=>{e.tags&&e.tags.forEach((e=>we.add(e)))}));const Se=Array.from(we);me&&console.log("distinctTags",Se),Se.sort().forEach((e=>{_e.push({label:e,value:e})}));const qe=e=>{me&&console.log("optionsClick",e),console.log("optionsClick",e,he.value),pe.updateStates(),Fe()};function Fe(){me&&console.log("filterBarcodes",he.value);const e=he.value.selectedStatus.length>0||he.value.selectedRegions.length>0||he.value.selectedZones.length>0||he.value.selectedTeams.length>0||he.value.selectedTags.length>0;Le.forEach((t=>{if(e){let e=!0;if(he.value.selectedStatus.length>0){const a=he.value.selectedStatus.includes(t.status?t.status:"");e=e&&a}if(he.value.selectedRegions.length>0){const a=he.value.selectedRegions.includes(t.region?t.region:"");e=e&&a}if(he.value.selectedZones.length>0){const a=he.value.selectedZones.includes(t.zone?t.zone:"");e=e&&a}if(he.value.selectedTeams.length>0){const a=he.value.selectedTeams.includes(t.team?t.team:"");e=e&&a}if(he.value.selectedTags.length>0){const a=t.tags&&t.tags.some((e=>he.value.selectedTags.includes(e)));e=e&&a}t.isSelected=e}else t.isSelected=!0}))}Fe();const Me=e=>{me&&console.log("buttonClickHandler",e),Ce.value.length>0&&(Ce.value.forEach((e=>e.expended=!1)),Ce.value[e]&&(Ce.value[e].expended=!0))};Me(0);const Ae=e=>{if("en-US"!==ue.value.locale)return e;switch(e){case"东":return"E";case"中":return"C";case"北":return"N";case"南":return"S";default:return e}},Te=e=>{me&&console.log("buttonEditClickHandler",e),ge.push({path:"/barcodeEdit",query:{id:e}})},Ie=()=>{me&&console.log("onEnd"),ve.save()},Ne=(0,s.KR)(!1),Xe=(0,s.KR)(),Oe=(0,s.KR)(),Qe=e=>{Ne.value=!0,Xe.value={...ve.barcodes[e]},Oe.value=Xe.value.caption,me&&console.log(Xe.value),Ve(),ze(ue.value.qrCodeTimeoutInSeconds)};function Ve(){window.scrollTo(0,0)}let Pe,Ge,Be,We=(0,s.KR)(0);function ze(e){We.value=e,Pe=setInterval((()=>{1===We.value&&(Ne.value=!1,clearInterval(Pe)),We.value--}),1e3)}function Ke(e){Ge=setTimeout((()=>{e()}),1e3*ue.value.dragTimeoutInSeconds)}function $e(e){console.log("onLeft"),Ke(e.reset)}function De(e){console.log("onRight"),Ke(e.reset)}function Ye(e){me&&console.log("onDetect",e);const t=e,[a]=t;let l;if(me&&a&&console.log(a.rawValue),a&&a.rawValue.startsWith("{")){const e=JSON.parse(a.rawValue);x.dialog({title:be("barcodeEdit_comfirmation_title"),message:be("barcode_import_confirmation",{name:e.caption}),cancel:{label:be("button_caption_cancel")},ok:{label:be("button_caption_yes"),push:!0},persistent:!0}).onOk((()=>{ve.addOrUpdate(e),Me(ve.barcodes.length-1),x.notify({type:"positive",position:"center",message:be("barcode_notify_RecordAdded")})})).onCancel((()=>{})).onDismiss((()=>{})),l=JSON.stringify(e)}else l=a?a.rawValue:"";y.value=l,tt(),Ue.value=d.c9.now().toISO(),et()}(0,l.xo)((()=>{clearTimeout(Ge),clearInterval(Pe)}));const Ue=(0,s.KR)(),He=(0,s.KR)(),Ze=(0,s.KR)();function Je(){clearTimeout(Be),Be=setTimeout((()=>{me&&console.log("cameraOffTimer"),et(),Ze.value=d.c9.now().toISO()}),1e3*ue.value.qrCodeTimeoutInSeconds)}function je(){me&&console.log("onCameraHandler"),R.value="auto",He.value=d.c9.now().toISO(),Ue.value="",Ze.value="",Je()}function et(){me&&console.log("offCameraHandler"),R.value="off"}function tt(){let e=new Audio("/censor-beep-01.mp3");e.play()}function at(e,t){for(const a of e){const[e,...l]=a.cornerPoints;if(e){t.strokeStyle="red",t.beginPath(),t.moveTo(e.x,e.y);for(const{x:e,y:a}of l)t.lineTo(e,a);t.lineTo(e.x,e.y),t.closePath(),t.stroke()}}}function lt(e,t){for(const a of e){const{boundingBox:e}=a;t.lineWidth=2,t.strokeStyle="#007bff",t.strokeRect(e.x,e.y,e.width,e.height)}}function ot(e,t){for(const a of e){const{boundingBox:e,rawValue:l}=a,o=e.x+e.width/2,s=e.y+e.height/2,n=Math.max(12,50*e.width/t.canvas.width);t.font=`bold ${n}px sans-serif`,t.textAlign="center",t.lineWidth=3,t.strokeStyle="#35495e",t.strokeText(a.rawValue,o,s),t.fillStyle="#5cb984",t.fillText(l,o,s)}}const st=[{text:"nothing (default)",value:void 0},{text:"outline",value:at},{text:"centered text",value:ot},{text:"bounding box",value:lt}],nt=(0,s.KR)(st[1]),rt=(0,s.KR)({facingMode:"environment"});let ct;ct=["qr_code","ean_13","unknown"];const it=(0,s.KR)("");function dt(e){me&&console.log("onErrorHandler",e),it.value=`[${e.name}]: `,"NotAllowedError"===e.name?it.value+="you need to grant camera access permission":"NotFoundError"===e.name?it.value+="no camera on this device":"NotSupportedError"===e.name?it.value+="secure context required (HTTPS, localhost)":"NotReadableError"===e.name?it.value+="is the camera already in use?":"OverconstrainedError"===e.name?it.value+="installed cameras are not suitable":"StreamApiNotSupportedError"===e.name?it.value+="Stream API is not supported in this browser":"InsecureContextError"===e.name?it.value+="Camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP.":it.value+=e.message}const ut=e=>{me&&console.log("onDeleteButtonClick"),x.dialog({title:be("barcodeEdit_comfirmation_title"),message:be("barcodeEdit_delete_confirmation"),cancel:{label:be("button_caption_cancel"),push:!0},ok:{label:be("button_caption_delete")},persistent:!0}).onOk((()=>{ve.delete(e),x.notify({type:"positive",position:"center",message:be("barcodeEdit_notify_RecordDeleted")}),ge.push("/barcode")})).onCancel((()=>{})).onDismiss((()=>{}))};return(e,d)=>{const b=(0,l.g2)("q-btn"),v=(0,l.g2)("q-space"),g=(0,l.g2)("q-card-actions"),m=(0,l.g2)("q-option-group"),p=(0,l.g2)("q-field"),h=(0,l.g2)("q-slide-transition"),f=(0,l.g2)("q-card"),x=(0,l.g2)("q-item"),C=(0,l.g2)("q-slide-item"),E=(0,l.g2)("q-list"),ge=(0,l.g2)("q-card-section"),pe=(0,l.g2)("q-separator");return(0,l.uX)(),(0,l.CE)(l.FK,null,[d[18]||(d[18]=(0,l.Lk)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"},null,-1)),(0,l.Lk)("div",{class:"barcode-header-fixed",ref_key:"headerRef",ref:t},[(0,l.Lk)("div",w,[(0,l.Lk)("div",{class:(0,o.C4)((0,s.R1)(r.y)((0,s.R1)(me),"col-md-auto q-pa-sm x-v-align-middle","bg-red-3"))},[(0,l.bF)(b,{color:"blue",icon:"barcode_reader",round:"",onClick:d[0]||(d[0]=e=>je())})],2),(0,l.Lk)("div",{class:(0,o.C4)((0,s.R1)(r.y)((0,s.R1)(me),"col text-h3 text-center text-capitalize","bg-yellow-3"))},(0,o.v_)("barcode"===(0,s.R1)(ue).type?(0,s.R1)(be)("barcode_title"):(0,s.R1)(be)("qrcode_title")),3),(0,l.Lk)("div",{class:(0,o.C4)((0,s.R1)(r.y)((0,s.R1)(me),"col-md-auto q-pa-sm x-v-align-middle","bg-red-3"))},[(0,l.bF)(b,{color:"green",icon:"add",round:"",onClick:d[1]||(d[1]=e=>Te(-1))})],2)]),Ne.value?((0,l.uX)(),(0,l.CE)("div",S,[(0,l.Lk)("div",{class:(0,o.C4)((0,s.R1)(r.y)((0,s.R1)(me),"q-pa-xs text-center","bg-red-3"))},[(0,l.Lk)("div",q,(0,o.v_)(Oe.value)+" - "+(0,o.v_)((0,s.R1)(We)),1),(0,l.bF)((0,s.R1)(i.Ay),{value:JSON.stringify(Xe.value,null,4),type:"image/png",width:300,color:{dark:"#000000ff",light:"#ffffffff"},errorCorrectionLevel:"H",margin:1},null,8,["value"])],2)])):(0,l.Q3)("",!0),"auto"===R.value?((0,l.uX)(),(0,l.CE)("div",{key:1,class:(0,o.C4)((0,s.R1)(r.y)((0,s.R1)(me),"q-pa-xs text-center","bg-red-3"))},[it.value?((0,l.uX)(),(0,l.CE)("div",F,(0,o.v_)(it.value),1)):(0,l.Q3)("",!0),(0,l.Lk)("div",M,[(0,l.Lk)("div",A,[(0,l.bF)((0,s.R1)(u.tR),{onDetect:Ye,onError:dt,track:nt.value.value,constraints:rt.value,formats:(0,s.R1)(ct),camera:R.value},null,8,["track","constraints","formats","camera"])])])],2)):(0,l.Q3)("",!0),(0,l.bF)(f,null,{default:(0,l.k6)((()=>[(0,l.bF)(g,{class:"row q-pa-none text-right"},{default:(0,l.k6)((()=>[(0,l.bF)(v),(0,l.Lk)("div",T,[(0,l.bF)(b,{color:"blue",flat:"",dense:"","no-caps":"",icon:fe.value?"keyboard_arrow_up":"keyboard_arrow_down",onClick:d[2]||(d[2]=e=>fe.value=!fe.value)},{default:(0,l.k6)((()=>[(0,l.Lk)("div",I,(0,o.v_)(fe.value?(0,s.R1)(be)("event_show"):(0,s.R1)(be)("event_hide"))+" "+(0,o.v_)((0,s.R1)(be)("barcode_filterCritera")),1)])),_:1},8,["icon"])])])),_:1}),(0,l.bF)(h,null,{default:(0,l.k6)((()=>[(0,l.bo)((0,l.Lk)("div",null,[(0,l.Lk)("div",null,[(0,l.Lk)("div",N,[(0,l.bF)(p,{outlined:"",dense:"","stack-label":"",label:(0,s.R1)(be)("barcode_tags")},{control:(0,l.k6)((()=>[(0,l.bF)(m,{inline:"",color:"primary",type:"checkbox",options:(0,s.R1)(_e),modelValue:(0,s.R1)(he).selectedTags,"onUpdate:modelValue":[d[3]||(d[3]=e=>(0,s.R1)(he).selectedTags=e),qe]},null,8,["options","modelValue"])])),_:1},8,["label"])]),(0,s.R1)(ue).systemAdmin?((0,l.uX)(),(0,l.CE)("div",X,[(0,l.bF)(p,{outlined:"",dense:"","stack-label":"",clearable:"",label:(0,s.R1)(be)("barcodeEdit_volunteer_status")},{control:(0,l.k6)((()=>[(0,l.bF)(m,{inline:"",color:"primary",type:"checkbox",options:ke,modelValue:(0,s.R1)(he).selectedStatus,"onUpdate:modelValue":[d[4]||(d[4]=e=>(0,s.R1)(he).selectedStatus=e),qe]},null,8,["modelValue"])])),_:1},8,["label"]),(0,l.bF)(p,{outlined:"",dense:"","stack-label":"",clearable:"",label:(0,s.R1)(be)("barcodeEdit_volunteer_region")},{control:(0,l.k6)((()=>[(0,l.bF)(m,{inline:"",color:"primary",type:"checkbox",options:Re,modelValue:(0,s.R1)(he).selectedRegions,"onUpdate:modelValue":[d[5]||(d[5]=e=>(0,s.R1)(he).selectedRegions=e),qe]},null,8,["modelValue"])])),_:1},8,["label"]),(0,l.bF)(p,{outlined:"",dense:"","stack-label":"",clearable:"",label:(0,s.R1)(be)("barcodeEdit_volunteer_zone")},{control:(0,l.k6)((()=>[(0,l.bF)(m,{inline:"",color:"primary",type:"checkbox",options:ye,modelValue:(0,s.R1)(he).selectedZones,"onUpdate:modelValue":[d[6]||(d[6]=e=>(0,s.R1)(he).selectedZones=e),qe]},null,8,["modelValue"])])),_:1},8,["label"]),(0,l.bF)(p,{outlined:"",dense:"","stack-label":"",clearable:"",label:(0,s.R1)(be)("barcodeEdit_volunteer_team")},{control:(0,l.k6)((()=>[(0,l.bF)(m,{inline:"",color:"primary",type:"checkbox",options:xe,modelValue:(0,s.R1)(he).selectedTeams,"onUpdate:modelValue":[d[7]||(d[7]=e=>(0,s.R1)(he).selectedTeams=e),qe]},null,8,["modelValue"])])),_:1},8,["label"])])):(0,l.Q3)("",!0)])],512),[[n.aG,fe.value]])])),_:1})])),_:1})],512),(0,l.Lk)("div",{class:"barcode-header-spacer",style:(0,o.Tr)({height:(0,s.R1)(a)+"px"})},null,4),(0,s.R1)(Ee)?((0,l.uX)(),(0,l.CE)("div",O,[(0,l.Lk)("div",null,[(0,l.bF)(f,{class:"my-card"},{default:(0,l.k6)((()=>[(0,l.bF)(ge,{class:(0,o.C4)((0,s.R1)(r.y)((0,s.R1)(me),"q-pa-none","bg-blue-6 text-white"))},{default:(0,l.k6)((()=>[(0,l.bF)(E,null,{default:(0,l.k6)((()=>[(0,l.bF)(C,{onLeft:$e,onRight:De,"left-color":"blue-3","right-color":"blue-3"},{right:(0,l.k6)((()=>[(0,l.Lk)("div",Q,[(0,l.Lk)("div",{class:(0,o.C4)((0,s.R1)(r.y)((0,s.R1)(me),"col text-h5 text-center text-capitalize q-mr-md","bg-blue-3"))},(0,o.v_)((0,s.R1)(Ee).caption),3),(0,l.Lk)("div",{class:(0,o.C4)((0,s.R1)(r.y)((0,s.R1)(me),"col-md-auto x-v-align-middle","bg-red-3"))},[(0,l.bF)(b,{color:"blue",icon:"share",round:"",onClick:d[8]||(d[8]=e=>Qe(0)),class:"q-mr-md"}),(0,l.bF)(b,{color:"green",icon:"edit",round:"",onClick:d[9]||(d[9]=e=>Te(0))})],2)])])),default:(0,l.k6)((()=>[(0,l.bF)(x,{class:"q-pa-none"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",V,[(0,l.Lk)("div",P,[(0,l.bF)(b,{flat:"","text-color":"green",icon:"drag_handle",class:(0,o.C4)((0,s.R1)(r.y)((0,s.R1)(me),"handle","bg-blue-2"))},{default:(0,l.k6)((()=>[...d[11]||(d[11]=[(0,l.eW)("1",-1)])])),_:1},8,["class"]),(0,l.Lk)("div",{class:(0,o.C4)((0,s.R1)(r.y)((0,s.R1)(me),"text-h5 col-grow self-stretch","bg-blue-3")),style:{overflow:"auto"}},(0,o.v_)((0,s.R1)(Ee).caption),3),(0,l.Lk)("div",G,[(0,s.R1)(Ee).phone?((0,l.uX)(),(0,l.CE)("a",{key:0,href:`https://wa.me/${void 0!==(0,s.R1)(Ee).phone?(0,s.R1)(L.Z).getFormattedNumbers((0,s.R1)(Ee).phone)?.local:""}`,target:"_blank",rel:"noopener noreferrer",style:{color:"inherit","text-decoration":"underline",cursor:"pointer"}},(0,o.v_)(void 0!==(0,s.R1)(Ee).phone?(0,s.R1)(L.Z).getFormattedNumbers((0,s.R1)(Ee).phone)?.local:""),9,B)):((0,l.uX)(),(0,l.CE)("span",W))]),d[12]||(d[12]=(0,l.Lk)("div",{class:"flex-break"},null,-1)),(0,l.Lk)("div",z,(0,o.v_)((0,s.R1)(Ee).barcode),1),(0,l.Lk)("div",K,[(0,l.Lk)("div",$,(0,o.v_)((0,s.R1)(Ee).region)+(0,o.v_)((0,s.R1)(Ee).zone)+(0,o.v_)((0,s.R1)(Ee).team),1)])])])])),_:1})])),_:1})])),_:1})])),_:1},8,["class"]),(0,l.bF)(pe),(0,s.R1)(Ee).expended?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(g,{key:0,class:"q-pa-none",align:"right"},{default:(0,l.k6)((()=>[(0,l.bF)(b,{flat:"","no-caps":"",onClick:d[10]||(d[10]=e=>Me(0))},{default:(0,l.k6)((()=>[(0,l.eW)((0,o.v_)("barcode"===(0,s.R1)(ue).type?(0,s.R1)(be)("barcode_showBarcode"):(0,s.R1)(be)("barcode_showQrcode")),1)])),_:1})])),_:1})),(0,s.R1)(Ee).expended&&"barcode"===(0,s.R1)(ue).type?((0,l.uX)(),(0,l.Wv)(ge,{key:1,class:(0,o.C4)((0,s.R1)(r.y)((0,s.R1)(me),"row q-pa-none","bg-green-3 text-white"))},{default:(0,l.k6)((()=>[(0,l.Lk)("div",D,[(0,l.bF)((0,s.R1)(c.f),{value:(0,s.R1)(Ee).barcode,width:2,height:80},null,8,["value"])])])),_:1},8,["class"])):(0,l.Q3)("",!0),(0,s.R1)(Ee).expended&&"qrcode"===(0,s.R1)(ue).type?((0,l.uX)(),(0,l.Wv)(ge,{key:2,class:(0,o.C4)((0,s.R1)(r.y)((0,s.R1)(me),"row q-pa-none","bg-green-3 text-white"))},{default:(0,l.k6)((()=>[(0,l.Lk)("div",{class:(0,o.C4)((0,s.R1)(r.y)((0,s.R1)(me),"q-pa-xs col text-center","bg-red-3"))},[(0,l.bF)((0,s.R1)(i.Ay),{value:(0,s.R1)(Ee).barcode,type:"image/png",width:200,color:{dark:"#000000ff",light:"#ffffffff"},errorCorrectionLevel:"H",margin:1},null,8,["value"])],2)])),_:1},8,["class"])):(0,l.Q3)("",!0)])),_:1})])])):(0,l.Q3)("",!0),(0,l.Lk)("div",Y,[(0,l.bF)((0,s.R1)(_()),{tag:"span",list:Ce.value,class:"list-group",handle:".handle","item-key":"caption",onEnd:Ie},{item:(0,l.k6)((({element:e,index:t})=>[t>0&&e.isSelected?((0,l.uX)(),(0,l.CE)("div",U,[(0,l.bF)(f,{class:"my-card q-mb-md"},{default:(0,l.k6)((()=>[(0,l.bF)(ge,{class:(0,o.C4)((0,s.R1)(r.y)((0,s.R1)(me),"q-pa-none","bg-blue-6 text-white"))},{default:(0,l.k6)((()=>[(0,l.bF)(E,null,{default:(0,l.k6)((()=>[(0,l.bF)(C,{onLeft:$e,onRight:De,"left-color":"blue-3","right-color":"blue-3"},{left:(0,l.k6)((()=>[(0,l.Lk)("div",H,[(0,l.Lk)("div",{class:(0,o.C4)((0,s.R1)(r.y)((0,s.R1)(me),"col-md-auto x-v-align-middle","bg-red-3"))},[(0,l.bF)(b,{color:"red",icon:"delete",round:"",onClick:e=>ut(t),class:"q-mr-md"},null,8,["onClick"])],2),(0,l.Lk)("div",{class:(0,o.C4)((0,s.R1)(r.y)((0,s.R1)(me),"col text-h5  text-center text-capitalize","bg-blue-3"))},(0,o.v_)(e.caption),3)])])),right:(0,l.k6)((()=>[(0,l.Lk)("div",Z,[(0,l.Lk)("div",{class:(0,o.C4)((0,s.R1)(r.y)((0,s.R1)(me),"col text-h5 text-center text-capitalize q-mr-md","bg-blue-3"))},(0,o.v_)(e.caption),3),(0,l.Lk)("div",{class:(0,o.C4)((0,s.R1)(r.y)((0,s.R1)(me),"col-md-auto x-v-align-middle","bg-red-3"))},[(0,s.R1)(ue).systemAdmin&&(0,s.R1)(ue).allowSharedBarcodeFlag?((0,l.uX)(),(0,l.Wv)(b,{key:0,color:"blue",icon:"share",round:"",onClick:e=>Qe(t),class:"q-mr-md"},null,8,["onClick"])):(0,l.Q3)("",!0),(0,l.bF)(b,{color:"green",icon:"edit",round:"",onClick:e=>Te(t)},null,8,["onClick"])],2)])])),default:(0,l.k6)((()=>[(0,l.bF)(x,{class:"q-pa-none"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",J,[(0,l.Lk)("div",j,[(0,l.bF)(b,{flat:"","text-color":"green",icon:"drag_handle",class:(0,o.C4)((0,s.R1)(r.y)((0,s.R1)(me),"handle","bg-blue-2"))},{default:(0,l.k6)((()=>[(0,l.eW)((0,o.v_)(t+1),1)])),_:2},1032,["class"]),(0,l.Lk)("div",{class:(0,o.C4)((0,s.R1)(r.y)((0,s.R1)(me),"text-h5 col-grow self-stretch","bg-blue-3")),style:{overflow:"auto"}},(0,o.v_)(e.caption),3),(0,l.Lk)("div",ee,[e.phone?((0,l.uX)(),(0,l.CE)("a",{key:0,href:`https://wa.me/${(void 0!==e.phone?(0,s.R1)(L.Z).getFormattedNumbers(e.phone)?.international:"")?.replace(/\s+/g,"")}`,target:"_blank",rel:"noopener noreferrer",style:{color:"inherit","text-decoration":"underline",cursor:"pointer"}},(0,o.v_)(void 0!==e.phone?(0,s.R1)(L.Z).getFormattedNumbers(e.phone)?.local:""),9,te)):((0,l.uX)(),(0,l.CE)("span",ae))]),d[13]||(d[13]=(0,l.Lk)("div",{class:"flex-break"},null,-1)),(0,l.Lk)("div",le,(0,o.v_)(e.barcode),1),(0,l.Lk)("div",oe,[(0,l.Lk)("div",se,(0,o.v_)(Ae(e.region))+(0,o.v_)(e.zone)+(0,o.v_)(e.team),1)])])])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class"]),(0,l.bF)(pe),e.expended?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(g,{key:0,class:"q-pa-none",align:"right"},{default:(0,l.k6)((()=>[(0,l.bF)(b,{flat:"","no-caps":"",onClick:e=>Me(t)},{default:(0,l.k6)((()=>[(0,l.eW)((0,o.v_)("barcode"===(0,s.R1)(ue).type?(0,s.R1)(be)("barcode_showBarcode"):(0,s.R1)(be)("barcode_showQrcode")),1)])),_:1},8,["onClick"])])),_:2},1024)),e.expended&&"barcode"===(0,s.R1)(ue).type?((0,l.uX)(),(0,l.Wv)(ge,{key:1,class:(0,o.C4)((0,s.R1)(r.y)((0,s.R1)(me),"row q-pa-none","bg-green-3 text-white"))},{default:(0,l.k6)((()=>[(0,l.Lk)("div",ne,[(0,l.bF)((0,s.R1)(c.f),{value:e.barcode,width:2,height:80},null,8,["value"])])])),_:2},1032,["class"])):(0,l.Q3)("",!0),e.expended&&"qrcode"===(0,s.R1)(ue).type?((0,l.uX)(),(0,l.Wv)(ge,{key:2,class:(0,o.C4)((0,s.R1)(r.y)((0,s.R1)(me),"row q-pa-none","bg-green-3 text-white"))},{default:(0,l.k6)((()=>[(0,l.Lk)("div",{class:(0,o.C4)((0,s.R1)(r.y)((0,s.R1)(me),"q-pa-xs col text-center","bg-red-3"))},[(0,l.bF)((0,s.R1)(i.Ay),{value:e.barcode,type:"image/png",width:200,color:{dark:"#000000ff",light:"#ffffffff"},errorCorrectionLevel:"H",margin:1},null,8,["value"])],2)])),_:2},1032,["class"])):(0,l.Q3)("",!0)])),_:2},1024)])):(0,l.Q3)("",!0)])),_:1},8,["list"])]),(0,s.R1)(ue).barcodePageDebug?((0,l.uX)(),(0,l.Wv)(k.A,{key:1,class:"col-3 q-pa-md items-start q-gutter-md",value:(0,s.R1)(ve).barcodes,title:"db settings"},null,8,["value"])):(0,l.Q3)("",!0),(0,s.R1)(me)?((0,l.uX)(),(0,l.CE)("div",{key:2,class:(0,o.C4)((0,s.R1)(r.y)((0,s.R1)(me),"","bg-yellow-2"))},[(0,s.R1)(me)?((0,l.uX)(),(0,l.CE)("p",re,[d[14]||(d[14]=(0,l.eW)(" Last result: ",-1)),(0,l.Lk)("b",null,(0,o.v_)(y.value),1)])):(0,l.Q3)("",!0),(0,s.R1)(me)?((0,l.uX)(),(0,l.CE)("p",ce,[d[15]||(d[15]=(0,l.eW)(" Camera On: ",-1)),(0,l.Lk)("b",null,(0,o.v_)(He.value),1)])):(0,l.Q3)("",!0),(0,s.R1)(me)?((0,l.uX)(),(0,l.CE)("p",ie,[d[16]||(d[16]=(0,l.eW)(" Last Scan: ",-1)),(0,l.Lk)("b",null,(0,o.v_)(Ue.value),1)])):(0,l.Q3)("",!0),(0,s.R1)(me)?((0,l.uX)(),(0,l.CE)("p",de,[d[17]||(d[17]=(0,l.eW)(" Camera Off: ",-1)),(0,l.Lk)("b",null,(0,o.v_)(Ze.value),1)])):(0,l.Q3)("",!0)],2)):(0,l.Q3)("",!0)],64)}}});var be=a(2968),ve=a(9039),ge=a(3341),me=a(5034),pe=a(5873),he=a(6510),fe=a(7861),_e=a(4552),ke=a(222),Re=a(3766),ye=a(5073),xe=a(2589),Ce=a(6915),Ee=a(272),Le=a.n(Ee);const we=(0,be.A)(ue,[["__scopeId","data-v-4e5fe53e"]]),Se=we;Le()(ue,"components",{QBtn:ve.A,QCard:ge.A,QCardActions:me.A,QSpace:pe.A,QSlideTransition:he.A,QField:fe.A,QOptionGroup:_e.A,QCardSection:ke.A,QList:Re.A,QSlideItem:ye.A,QItem:xe.A,QSeparator:Ce.A});const qe=(0,l.pM)({name:"BarcodePage",__name:"barcodePage",setup(e){return(e,t)=>{const a=(0,l.g2)("q-page");return(0,l.uX)(),(0,l.Wv)(a,null,{default:(0,l.k6)((()=>[(0,l.bF)(Se)])),_:1})}}});var Fe=a(5013);const Me=qe,Ae=Me;Le()(qe,"components",{QPage:Fe.A})}}]);