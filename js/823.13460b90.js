"use strict";(globalThis["webpackChunkqr_generator"]=globalThis["webpackChunkqr_generator"]||[]).push([[823],{6823:(t,o,n)=>{n.r(o),n.d(o,{default:()=>f});var e=n(9835),i=n(6970),l=n(499),u=n(3529),a=function(t,o,n,e){function i(t){return t instanceof n?t:new n((function(o){o(t)}))}return new(n||(n=Promise))((function(n,l){function u(t){try{r(e.next(t))}catch(o){l(o)}}function a(t){try{r(e["throw"](t))}catch(o){l(o)}}function r(t){t.done?n(t.value):i(t.value).then(u,a)}r((e=e.apply(t,o||[])).next())}))};const r={key:0},s={key:1},v={key:2},c={key:3},d={key:4},g=!1,h=(0,e.aZ)({__name:"GeoLocation",setup(t){const o=(0,l.iH)();function n(){u.b.getCurrentPosition({timeout:2e4}).then((t=>{g&&console.log("Current...",t),o.value=t}))}let h;function k(t,o){let n=1.3497756,e=103.7553429;return p(t,o,n,e)}function f(t){return t*Math.PI/180}function p(t,o,n,e){var i=6371,l=f(n-t),u=f(e-o);t=f(t),n=f(n);var a=Math.sin(l/2)*Math.sin(l/2)+Math.sin(u/2)*Math.sin(u/2)*Math.cos(t)*Math.cos(n),r=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return i*r}return(0,e.bv)((()=>a(this,void 0,void 0,(function*(){n(),h=yield u.b.watchPosition({},((t,n)=>{g&&console.log("New GPS position",n),o.value=t}))})))),(0,e.Jd)((()=>{u.b.clearWatch({id:h})})),(t,n)=>{var l,u,a,g,h,f;return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e._)("div",null,[(0,e.Uk)(" GPS position: "),(0,e._)("strong",null,(0,i.zw)(null===o.value?"determining...":"done"),1)]),(0,e._)("div",null,[(0,e.Uk)(" GPS position: "),(0,e._)("strong",null,(0,i.zw)(typeof o.value),1)]),"object"===typeof o.value?((0,e.wg)(),(0,e.iD)("div",r,[(0,e.Uk)(" GPS position: "),(0,e._)("strong",null,(0,i.zw)(null===(l=o.value)||void 0===l?void 0:l.timestamp),1)])):(0,e.kq)("",!0),"object"===typeof o.value?((0,e.wg)(),(0,e.iD)("div",s,[(0,e.Uk)(" GPS position: "),(0,e._)("strong",null,(0,i.zw)(null===(u=o.value)||void 0===u?void 0:u.coords),1)])):(0,e.kq)("",!0),"object"===typeof o.value?((0,e.wg)(),(0,e.iD)("div",v,[(0,e.Uk)(" GPS position: "),(0,e._)("strong",null,(0,i.zw)(null===(g=null===(a=o.value)||void 0===a?void 0:a.coords)||void 0===g?void 0:g.latitude),1)])):(0,e.kq)("",!0),"object"===typeof o.value?((0,e.wg)(),(0,e.iD)("div",c,[(0,e.Uk)(" GPS position: "),(0,e._)("strong",null,(0,i.zw)(null===(f=null===(h=o.value)||void 0===h?void 0:h.coords)||void 0===f?void 0:f.longitude),1)])):(0,e.kq)("",!0),"object"===typeof o.value&&o.value?((0,e.wg)(),(0,e.iD)("div",d,[(0,e.Uk)(" Distance: "),(0,e._)("strong",null,(0,i.zw)(k(o.value.coords.latitude,o.value.coords.longitude)),1)])):(0,e.kq)("",!0)],64)}}}),k=h,f=k}}]);