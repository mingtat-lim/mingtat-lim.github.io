"use strict";(globalThis["webpackChunkquasar_barcode"]=globalThis["webpackChunkquasar_barcode"]||[]).push([[327],{4533:(e,t,a)=>{function s(e,t,a){return e?`${t} ${a}`:t}a.d(t,{y:()=>s})},9482:(e,t,a)=>{a.d(t,{n:()=>d});var s=a(587),l=a(8993);const o="barcode-db-v1",n="barcode-db",d=(0,s.nY)(o,{state:()=>({_loaded:!1,_barcodes:new Array}),getters:{barcodes:e=>{if(!e._loaded){const t=l.A.getItem(o);if(e._barcodes=null!==t?t:new Array,e._loaded=!0,null!==l.A.getItem(n)){const t=JSON.parse(l.A.getItem(n)+"");t.barCodes.forEach((t=>{e._barcodes.push({caption:t.caption,barcode:t.barCode,expended:!1})})),l.A.removeItem(n),l.A.set(o,e._barcodes)}}return e._barcodes}},actions:{save(){l.A.set(o,this._barcodes)},add(e){this._barcodes.push(e),this.save()},update(e,t){this._barcodes[t]=Object.assign({},e),this.save()},delete(e){return e>=0&&e<this._barcodes.length?(this._barcodes.splice(e,1),this.save(),!0):(console.error("Index out of range"),!1)},restore(e){this._barcodes=e,this.save()},reset(){this._barcodes=[],this.save()}}})},614:(e,t,a)=>{a.d(t,{C:()=>c});var s=a(587),l=a(8993),o=a(3537);const n="settings-db-v2",d=()=>({locale:"zh-TC",type:"barcode",systemAdmin:!1,barcodePageDebug:!1,barcodeEditPageDebug:!1,settingsPageDebug:!1,sharePageDebug:!1}),r=()=>{const{locale:e}=(0,o.s9)({useScope:"global"}),t=l.A.getItem(n),a=t||d();return e.value=a.locale,a},c=(0,s.nY)(n,{state:()=>({settings:r(),lang:(0,o.s9)({useScope:"global"})}),actions:{updateSettings(){this.settings.locale!==this.lang.locale&&(this.lang.locale=this.settings.locale),l.A.set(n,this.settings)},restore(e){this.settings=e,this.updateSettings()},reset(){this.settings=d(),this.updateSettings()}}})},1234:(e,t,a)=>{a.d(t,{A:()=>i});var s=a(1758),l=a(8790);function o(e,t,a,o,n,d){return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("h5",null,(0,l.v_)(e.title),1),(0,s.Lk)("pre",null,(0,l.v_)(d.valueString),1)])}const n={title:{required:!0,type:String},value:{required:!0}},d={name:"raw-displayer",props:n,computed:{valueString(){return JSON.stringify(this.value,null,2)}}};var r=a(2807);const c=(0,r.A)(d,[["render",o],["__scopeId","data-v-11f63c05"]]),i=c},6327:(e,t,a)=>{a.r(t),a.d(t,{default:()=>M});var s=a(1758),l=a(8790),o=a(8734),n=a(4533),d=a(9339),r=a(1868),c=a(455),i=a(9482),u=a(614),g=a(587),b=a(3537),p=a(57),v=a.n(p),h=a(1234);const _=e=>((0,s.Qi)("data-v-25afb090"),e=e(),(0,s.jt)(),e),k=_((()=>(0,s.Lk)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"},null,-1))),m={class:"row q-pa-xs"},f={class:"q-pa-md"},y={class:"col"},R={class:"x-v-align-middle"},C={class:"col"},q={class:"row"},x={class:"col"},A={class:"q-pl-sm text-h6"},L={class:"col q-pa-xs text-center"},w=(0,s.pM)({__name:"barcodeComponent",setup(e){const t=(0,u.C)(),{settings:a}=(0,g.bP)(t),{t:p}=(0,b.s9)(),_=(0,i.n)(),w=(0,c.rd)(),Q=a.value.barcodePageDebug,S=(0,o.KR)(_.barcodes),F=e=>{Q&&console.log("buttonClickHandler",e),S.value.length>0&&(S.value.forEach((e=>e.expended=!1)),S.value[e].expended=!0)};F(0);const I=e=>{Q&&console.log("buttonEditClickHandler",e),w.push({path:"/barcodeEdit",query:{id:e}})},P=()=>{Q&&console.log("onEnd"),_.save()};return(e,t)=>{const c=(0,s.g2)("q-btn"),i=(0,s.g2)("q-card-section"),u=(0,s.g2)("q-separator"),g=(0,s.g2)("q-card-actions"),b=(0,s.g2)("q-card");return(0,s.uX)(),(0,s.CE)("div",null,[k,(0,s.Lk)("div",m,[(0,s.Lk)("div",{class:(0,l.C4)((0,o.R1)(n.y)((0,o.R1)(Q),"col text-h3 text-center text-capitalize","bg-yellow-3"))},(0,l.v_)("barcode"===(0,o.R1)(a).type?(0,o.R1)(p)("barcode_title"):(0,o.R1)(p)("qrcode_title")),3),(0,s.Lk)("div",{class:(0,l.C4)((0,o.R1)(n.y)((0,o.R1)(Q),"col-md-auto q-pa-sm x-v-align-middle","bg-red-3"))},[(0,s.bF)(c,{color:"green",icon:"add",round:"",onClick:t[0]||(t[0]=e=>I(-1))})],2)]),(0,s.Lk)("div",f,[(0,s.bF)((0,o.R1)(v()),{tag:"span",list:S.value,class:"list-group",handle:".handle","item-key":"caption",onEnd:P},{item:(0,s.k6)((({element:e,index:t})=>[(0,s.Lk)("div",null,[(0,s.Lk)("div",y,[(0,s.Lk)("div",R,[(0,s.bF)(b,{class:"my-card q-mb-md"},{default:(0,s.k6)((()=>[(0,s.bF)(i,{class:(0,l.C4)((0,o.R1)(n.y)((0,o.R1)(Q),"row q-pa-none","bg-blue-3 text-white"))},{default:(0,s.k6)((()=>[(0,s.Lk)("div",C,[(0,s.Lk)("div",q,[(0,s.Lk)("div",x,[(0,s.Lk)("div",{class:(0,l.C4)((0,o.R1)(n.y)((0,o.R1)(Q),"row","bg-red-4"))},[(0,s.bF)(c,{flat:"","text-color":"green",icon:"drag_handle",class:(0,l.C4)((0,o.R1)(n.y)((0,o.R1)(Q),"handle","bg-blue-2"))},null,8,["class"]),(0,s.Lk)("div",{class:(0,l.C4)((0,o.R1)(n.y)((0,o.R1)(Q),"text-h5","bg-blue-5"))},(0,l.v_)(e.caption)+" "+(0,l.v_)(void 0!==e.phone?e.phone.substring(0,4):"")+" "+(0,l.v_)(void 0!==e.phone?e.phone.substring(4):""),3)],2)])]),(0,s.Lk)("div",A,(0,l.v_)(e.barcode),1)]),(0,s.Lk)("div",{class:(0,l.C4)((0,o.R1)(n.y)((0,o.R1)(Q),"col-md-auto q-pa-xs x-v-align-middle","bg-red-3"))},[(0,s.bF)(c,{color:"green",icon:"edit",round:"",onClick:e=>I(t)},null,8,["onClick"])],2)])),_:2},1032,["class"]),(0,s.bF)(u),e.expended?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(g,{key:0,class:"q-pa-none",align:"right"},{default:(0,s.k6)((()=>[(0,s.bF)(c,{flat:"","no-caps":"",onClick:e=>F(t)},{default:(0,s.k6)((()=>[(0,s.eW)((0,l.v_)("barcode"===(0,o.R1)(a).type?(0,o.R1)(p)("barcode_showBarcode"):(0,o.R1)(p)("barcode_showQrcode")),1)])),_:2},1032,["onClick"])])),_:2},1024)),e.expended&&"barcode"===(0,o.R1)(a).type?((0,s.uX)(),(0,s.Wv)(i,{key:1,class:(0,l.C4)((0,o.R1)(n.y)((0,o.R1)(Q),"row q-pa-none","bg-green-3 text-white"))},{default:(0,s.k6)((()=>[(0,s.Lk)("div",L,[(0,s.bF)((0,o.R1)(d.f),{value:e.barcode,width:2,height:80},null,8,["value"])])])),_:2},1032,["class"])):(0,s.Q3)("",!0),e.expended&&"qrcode"===(0,o.R1)(a).type?((0,s.uX)(),(0,s.Wv)(i,{key:2,class:(0,l.C4)((0,o.R1)(n.y)((0,o.R1)(Q),"row q-pa-none","bg-green-3 text-white"))},{default:(0,s.k6)((()=>[(0,s.Lk)("div",{class:(0,l.C4)((0,o.R1)(n.y)((0,o.R1)(Q),"q-pa-xs col text-center","bg-red-3"))},[(0,s.bF)((0,o.R1)(r.Ay),{value:e.barcode,type:"image/png",width:200,color:{dark:"#000000ff",light:"#ffffffff"},errorCorrectionLevel:"H",margin:1},null,8,["value"])],2)])),_:2},1032,["class"])):(0,s.Q3)("",!0)])),_:2},1024)])])])])),_:1},8,["list"])]),(0,o.R1)(a).barcodePageDebug?((0,s.uX)(),(0,s.Wv)(h.A,{key:0,class:"col-3 q-pa-md items-start q-gutter-md",value:(0,o.R1)(_).barcodes,title:"db settings"},null,8,["value"])):(0,s.Q3)("",!0)])}}});var Q=a(2807),S=a(1693),F=a(3316),I=a(4189),P=a(386),E=a(2669),D=a(492),X=a(8582),W=a.n(X);const O=(0,Q.A)(w,[["__scopeId","data-v-25afb090"]]),j=O;W()(w,"components",{QBtn:S.A,QCard:F.A,QCardSection:I.A,QSeparator:P.A,QCardActions:E.A,QIcon:D.A});const z=(0,s.pM)(Object.assign({name:"BarcodePage"},{__name:"barcodePage",setup(e){return(e,t)=>{const a=(0,s.g2)("q-page");return(0,s.uX)(),(0,s.Wv)(a,null,{default:(0,s.k6)((()=>[(0,s.bF)(j)])),_:1})}}}));var B=a(7716);const H=z,M=H;W()(z,"components",{QPage:B.A})}}]);