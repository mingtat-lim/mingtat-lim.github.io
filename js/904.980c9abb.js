"use strict";(globalThis["webpackChunkquasar_barcode"]=globalThis["webpackChunkquasar_barcode"]||[]).push([[904,493],{4484:(e,l,a)=>{a.r(l),a.d(l,{default:()=>$});var t=a(1347),s=a(7763),o=a(4187),n=a(8677),c=a(2291),i=a(7875),d=a(8234),u=a(1497),g=a(7662),r=a(3022),b=a(5887),m=a(7047),p=a(6305);const _={class:"row q-pa-xs"},k={class:"q-pa-ms"},v={class:"q-pa-ms"},h={class:"q-pa-ms"},R={class:"q-pa-ms"},y={class:"q-pa-ms"},V={class:"q-pa-ms"},q={key:0,class:"row q-pa-md"},D={class:"col"},F={class:"row q-pa-md"},L={class:"col"},C={class:"row q-pa-md"},A={class:"row items-center"},f={class:"row q-pa-md"},P={key:1,class:"row q-pa-md"},w={class:"col x-v-align-middle"},x={class:"col text-right"},E={key:2,class:"q-pa-md"},Q={class:"text-center"},U={key:3,class:"row q-pa-md"},S={class:"col x-v-align-middle"},z={key:0,class:"col text-right"},X=(0,t.pM)({__name:"settingsComponent",setup(e){const{t:l}=(0,c.s9)({useScope:"global"}),a=(0,m.C)(),{settings:X}=(0,p.bP)(a),M=()=>{a.updateSettings()},O=(0,r.A)(),T=(0,b.n)(),I=(0,o.KR)(!1),K=(0,o.KR)(!1),Y=(0,o.KR)(""),G=X.value.settingsPageDebug,B=[{label:"English (Tzu Chi)",value:"en-US"},{label:"中文（新加坡）",value:"zh-SG"},{label:"中文（慈济）",value:"zh-TC"}],H=[{label:"settings_type_barcode",value:"barcode"},{label:"settings_type_qrcode",value:"qrcode"}],J=()=>{G&&console.log("onBackupClick");const e=Date.now(),l=g.Ay.formatDate(e,"YYYY-MM-DD-HH-mm"),a={settings:X.value,data:T.barcodes},t=(0,u.A)(`barcodeManager-${l}.txt`,JSON.stringify(a,null,4));!0===t||console.log("Error: "+t)},N=()=>{G&&console.log("onRestoreClick"),""!==Y.value?O.dialog({title:l("dialog_title_confirmation"),message:l("dialog_message_restore"),cancel:{label:l("button_caption_cancel"),push:!0},ok:{label:l("button_caption_yes")},persistent:!0}).onOk((()=>{try{const e=JSON.parse(Y.value);a.restore(e.settings),T.restore(e.data),O.notify({type:"positive",position:"center",message:l("settings_notify_restoreSuccess")})}catch(e){O.notify({type:"negative",position:"center",message:e.message})}})).onCancel((()=>{})).onDismiss((()=>{})):O.notify({type:"negative",position:"center",message:l("settings_notify_noDataError")})},W=()=>{G&&console.log("onResetClick"),O.dialog({title:l("dialog_title_confirmation"),message:l("dialog_message_reset"),cancel:{label:l("button_caption_cancel"),push:!0},ok:{label:l("button_caption_yes")},persistent:!0}).onOk((()=>{a.reset(),T.reset(),O.notify({type:"positive",position:"center",message:l("settings_notify_resetSuccess")})})).onCancel((()=>{})).onDismiss((()=>{}))};return(e,a)=>{const c=(0,t.g2)("q-toggle"),u=(0,t.g2)("q-select"),g=(0,t.g2)("q-option-group"),r=(0,t.g2)("q-btn"),b=(0,t.g2)("q-input");return(0,t.uX)(),(0,t.CE)(t.FK,null,[a[11]||(a[11]=(0,t.Lk)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"},null,-1)),(0,t.Lk)("div",_,[(0,t.Lk)("div",{class:(0,s.C4)((0,o.R1)(n.y)((0,o.R1)(X).settingsPageDebug,"col text-h3 text-center text-capitalize","bg-blue-3"))},(0,s.v_)((0,o.R1)(l)("settings_title")),3)]),(0,t.Lk)("div",k,[(0,t.bF)(c,{modelValue:(0,o.R1)(X).systemAdmin,"onUpdate:modelValue":[a[0]||(a[0]=e=>(0,o.R1)(X).systemAdmin=e),M],label:(0,o.R1)(l)("settings_toggle_label_systemAdmin"),"checked-icon":"check","unchecked-icon":"clear"},null,8,["modelValue","label"])]),(0,t.Lk)("div",v,[(0,t.bF)(c,{modelValue:(0,o.R1)(X).barcodePageDebug,"onUpdate:modelValue":[a[1]||(a[1]=e=>(0,o.R1)(X).barcodePageDebug=e),M],label:(0,o.R1)(l)("settings_barcode_debugFlag"),"checked-icon":"check","unchecked-icon":"clear"},null,8,["modelValue","label"])]),(0,t.Lk)("div",h,[(0,t.bF)(c,{modelValue:(0,o.R1)(X).barcodeEditPageDebug,"onUpdate:modelValue":[a[2]||(a[2]=e=>(0,o.R1)(X).barcodeEditPageDebug=e),M],label:(0,o.R1)(l)("settings_barcodeEdit_debugFlag"),"checked-icon":"check","unchecked-icon":"clear"},null,8,["modelValue","label"])]),(0,t.Lk)("div",R,[(0,t.bF)(c,{modelValue:(0,o.R1)(X).settingsPageDebug,"onUpdate:modelValue":[a[3]||(a[3]=e=>(0,o.R1)(X).settingsPageDebug=e),M],label:(0,o.R1)(l)("settings_settings_debugFlag"),"checked-icon":"check","unchecked-icon":"clear"},null,8,["modelValue","label"])]),(0,t.Lk)("div",y,[(0,t.bF)(c,{modelValue:(0,o.R1)(X).homePageDebug,"onUpdate:modelValue":[a[4]||(a[4]=e=>(0,o.R1)(X).homePageDebug=e),M],label:(0,o.R1)(l)("settings_home_debugFlag"),"checked-icon":"check","unchecked-icon":"clear"},null,8,["modelValue","label"])]),(0,t.Lk)("div",V,[(0,t.bF)(c,{modelValue:(0,o.R1)(X).sharePageDebug,"onUpdate:modelValue":[a[5]||(a[5]=e=>(0,o.R1)(X).sharePageDebug=e),M],label:(0,o.R1)(l)("settings_share_debugFlag"),"checked-icon":"check","unchecked-icon":"clear"},null,8,["modelValue","label"])]),(0,o.R1)(X).settingsPageDebug?((0,t.uX)(),(0,t.CE)("div",q,[(0,t.Lk)("div",D,(0,s.v_)((0,o.R1)(l)("language"))+" -- "+(0,s.v_)((0,o.R1)(X).locale),1)])):(0,t.Q3)("",!0),(0,t.Lk)("div",F,[(0,t.Lk)("div",L,[(0,t.bF)(u,{outlined:"",modelValue:(0,o.R1)(X).locale,"onUpdate:modelValue":[a[6]||(a[6]=e=>(0,o.R1)(X).locale=e),M],options:B,"emit-value":"","map-options":"",label:(0,o.R1)(l)("settings_settings_language")},null,8,["modelValue","label"])])]),(0,t.Lk)("div",C,[(0,t.bF)(g,{inline:"",color:"primary",type:"radio",class:"q-mt-xs",options:H,modelValue:(0,o.R1)(X).type,"onUpdate:modelValue":[a[7]||(a[7]=e=>(0,o.R1)(X).type=e),M]},{label:(0,t.k6)((e=>[(0,t.Lk)("div",A,[(0,t.Lk)("span",null,(0,s.v_)((0,o.R1)(l)(e.label)),1)])])),_:1},8,["modelValue"])]),(0,t.Lk)("div",f,[(0,t.bF)(i.A,{label:(0,o.R1)(l)("settings_darkMode")},null,8,["label"])]),(0,o.R1)(X).systemAdmin?((0,t.uX)(),(0,t.CE)("div",P,[(0,t.Lk)("div",w,[(0,t.bF)(c,{modelValue:I.value,"onUpdate:modelValue":a[8]||(a[8]=e=>I.value=e),label:(0,o.R1)(l)("settings_toggle_label_restore"),color:"green","checked-icon":"check","unchecked-icon":"clear"},null,8,["modelValue","label"])]),(0,t.Lk)("div",x,[(0,t.bF)(r,{push:"",color:"green",icon:"cloud_download",label:(0,o.R1)(l)("settings_button_label_backup"),size:"lg",onClick:J},null,8,["label"])])])):(0,t.Q3)("",!0),I.value&&(0,o.R1)(X).systemAdmin?((0,t.uX)(),(0,t.CE)("div",E,[(0,t.bF)(b,{"lazy-rules":"",outlined:"","bottom-slots":"",dense:"",modelValue:Y.value,"onUpdate:modelValue":a[9]||(a[9]=e=>Y.value=e),label:(0,o.R1)(l)("settings_textarea_label_jsonData"),type:"textarea"},null,8,["modelValue","label"]),(0,t.Lk)("div",Q,[(0,t.bF)(r,{push:"",color:"green",icon:"cloud_upload",label:(0,o.R1)(l)("settings_button_label_restore"),size:"lg",onClick:N},null,8,["label"])])])):(0,t.Q3)("",!0),(0,o.R1)(X).systemAdmin?((0,t.uX)(),(0,t.CE)("div",U,[(0,t.Lk)("div",S,[(0,t.bF)(c,{modelValue:K.value,"onUpdate:modelValue":a[10]||(a[10]=e=>K.value=e),label:(0,o.R1)(l)("settings_toggle_label_reset"),color:"red","checked-icon":"check","unchecked-icon":"clear"},null,8,["modelValue","label"])]),K.value?((0,t.uX)(),(0,t.CE)("div",z,[(0,t.bF)(r,{push:"",color:"red",icon:"restart_alt",label:(0,o.R1)(l)("settings_button_label_reset"),size:"lg",onClick:W},null,8,["label"])])):(0,t.Q3)("",!0)])):(0,t.Q3)("",!0),(0,o.R1)(X).settingsPageDebug?((0,t.uX)(),(0,t.Wv)(d.A,{key:4,class:"col-3 q-pa-md items-start q-gutter-md",value:(0,o.R1)(X),title:"db settings"},null,8,["value"])):(0,t.Q3)("",!0)],64)}}});var M=a(2968),O=a(5725),T=a(7140),I=a(4552),K=a(9039),Y=a(6067),G=a(272),B=a.n(G);const H=(0,M.A)(X,[["__scopeId","data-v-d7383236"]]),J=H;B()(X,"components",{QToggle:O.A,QSelect:T.A,QOptionGroup:I.A,QBtn:K.A,QInput:Y.A});const N=(0,t.pM)({name:"SettingsPage",__name:"settingsPage",setup(e){return(e,l)=>{const a=(0,t.g2)("q-page");return(0,t.uX)(),(0,t.Wv)(a,null,{default:(0,t.k6)((()=>[(0,t.bF)(J)])),_:1})}}});var W=a(5013);const j=(0,M.A)(N,[["__scopeId","data-v-a0d54ff8"]]),$=j;B()(N,"components",{QPage:W.A})}}]);