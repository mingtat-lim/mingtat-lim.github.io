"use strict";(globalThis["webpackChunkquasar_barcode"]=globalThis["webpackChunkquasar_barcode"]||[]).push([[792,870],{6327:(e,a,o)=>{o.r(a),o.d(a,{default:()=>G});var l=o(1758),t=o(8790),r=o(8734),n=o(4533),s=o(9339),c=o(1868),d=o(883),i=o(1500),u=o(455),v=o(9482),g=o(614),b=o(587),p=o(3537),m=o(57),f=o.n(m),k=o(1234);const R=e=>((0,l.Qi)("data-v-6d16193e"),e=e(),(0,l.jt)(),e),h=R((()=>(0,l.Lk)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"},null,-1))),y={class:"row q-pa-xs"},C={key:0,class:"fit row wrap justify-center items-start content-start"},x={key:0,class:"error"},w={class:"fit row wrap justify-center items-start content-start"},q={class:"bg-blue-4",style:{width:"300px",height:"300px"}},_={class:"q-pa-md"},L={class:"col"},E={class:"x-v-align-middle"},A={class:"col"},Q={class:"row"},F={class:"col"},S={class:"q-pl-sm text-h6"},O={class:"col q-pa-xs text-center"},T=(0,l.pM)({__name:"barcodeComponent",setup(e){const a=(0,r.KR)("off"),o=(0,r.KR)(),m=(0,r.KR)(),R=(0,g.C)(),{settings:T}=(0,b.bP)(R),{t:H}=(0,p.s9)(),P=(0,v.n)(),X=(0,u.rd)(),K=T.value.barcodePageDebug,I=(0,r.KR)(P.barcodes),N=e=>{K&&console.log("buttonClickHandler",e),I.value.length>0&&(I.value.forEach((e=>e.expended=!1)),I.value[e].expended=!0)};N(0);const W=e=>{K&&console.log("buttonEditClickHandler",e),X.push({path:"/barcodeEdit",query:{id:e}})},j=()=>{K&&console.log("onEnd"),P.save()},D=(0,r.KR)(!1),V=(0,r.KR)(),B=e=>{D.value=!D.value,V.value=Object.assign({},P.barcodes[e]),K&&console.log(V.value)};function J(e){K&&console.log("onDetect",e);const a=e,[o]=a;let l;if(K&&console.log(o.rawValue),o.rawValue.startsWith("{")){const e=JSON.parse(o.rawValue);l=JSON.stringify(e)}else l=o.rawValue;m.value=l,ee(),z.value=d.c9.now().toISO(),Z()}let M;const z=(0,r.KR)(),G=(0,r.KR)(),U=(0,r.KR)();function $(){clearTimeout(M),M=setTimeout((()=>{K&&console.log("cameraOffTimer"),Z(),U.value=d.c9.now().toISO()}),1e4)}function Y(){K&&console.log("onCameraHandler"),a.value="auto",G.value=d.c9.now().toISO(),z.value="",U.value="",$()}function Z(){K&&console.log("offCameraHandler"),a.value="off"}function ee(){let e=new Audio("/censor-beep-01.mp3");e.play()}function ae(e){K&&console.log("onErrorHandler",e),o.value=`[${e.name}]: `,"NotAllowedError"===e.name?o.value+="you need to grant camera access permission":"NotFoundError"===e.name?o.value+="no camera on this device":"NotSupportedError"===e.name?o.value+="secure context required (HTTPS, localhost)":"NotReadableError"===e.name?o.value+="is the camera already in use?":"OverconstrainedError"===e.name?o.value+="installed cameras are not suitable":"StreamApiNotSupportedError"===e.name?o.value+="Stream API is not supported in this browser":"InsecureContextError"===e.name?o.value+="Camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP.":o.value+=e.message}return(e,d)=>{const u=(0,l.g2)("q-btn"),v=(0,l.g2)("q-card-section"),g=(0,l.g2)("q-separator"),b=(0,l.g2)("q-card-actions"),p=(0,l.g2)("q-card");return(0,l.uX)(),(0,l.CE)("div",null,[h,(0,l.Lk)("div",y,[(0,l.Lk)("div",{class:(0,t.C4)((0,r.R1)(n.y)((0,r.R1)(K),"col-md-auto q-pa-sm x-v-align-middle","bg-red-3"))},[(0,l.bF)(u,{color:"blue",icon:"share",round:"",onClick:d[0]||(d[0]=e=>B(0))})],2),(0,l.Lk)("div",{class:(0,t.C4)((0,r.R1)(n.y)((0,r.R1)(K),"col-md-auto q-pa-sm x-v-align-middle","bg-red-3"))},[(0,l.bF)(u,{color:"blue",icon:"barcode_reader",round:"",onClick:d[1]||(d[1]=e=>Y())})],2),(0,l.Lk)("div",{class:(0,t.C4)((0,r.R1)(n.y)((0,r.R1)(K),"col text-h3 text-center text-capitalize","bg-yellow-3"))},(0,t.v_)("barcode"===(0,r.R1)(T).type?(0,r.R1)(H)("barcode_title"):(0,r.R1)(H)("qrcode_title")),3),(0,l.Lk)("div",{class:(0,t.C4)((0,r.R1)(n.y)((0,r.R1)(K),"col-md-auto q-pa-sm x-v-align-middle","bg-red-3"))},[(0,l.bF)(u,{color:"green",icon:"add",round:"",onClick:d[2]||(d[2]=e=>W(-1))})],2)]),D.value?((0,l.uX)(),(0,l.CE)("div",C,[(0,l.Lk)("div",{class:(0,t.C4)((0,r.R1)(n.y)((0,r.R1)(K),"q-pa-xs text-center","bg-red-3"))},[(0,l.bF)((0,r.R1)(c.Ay),{value:JSON.stringify(V.value,null,4),type:"image/png",width:300,color:{dark:"#000000ff",light:"#ffffffff"},errorCorrectionLevel:"H",margin:1},null,8,["value"])],2)])):(0,l.Q3)("",!0),"auto"===a.value?((0,l.uX)(),(0,l.CE)("div",{key:1,class:(0,t.C4)((0,r.R1)(n.y)((0,r.R1)(K),"q-pa-xs text-center","bg-red-3"))},[o.value?((0,l.uX)(),(0,l.CE)("div",x,(0,t.v_)(o.value),1)):(0,l.Q3)("",!0),(0,l.Lk)("div",w,[(0,l.Lk)("div",q,["auto"===a.value?((0,l.uX)(),(0,l.Wv)((0,r.R1)(i.tR),{key:0,onDetect:J,onError:ae,camera:a.value},null,8,["camera"])):(0,l.Q3)("",!0)])])],2)):(0,l.Q3)("",!0),(0,l.Lk)("div",_,[(0,l.bF)((0,r.R1)(f()),{tag:"span",list:I.value,class:"list-group",handle:".handle","item-key":"caption",onEnd:j},{item:(0,l.k6)((({element:e,index:a})=>[(0,l.Lk)("div",null,[(0,l.Lk)("div",L,[(0,l.Lk)("div",E,[(0,l.bF)(p,{class:"my-card q-mb-md"},{default:(0,l.k6)((()=>[(0,l.bF)(v,{class:(0,t.C4)((0,r.R1)(n.y)((0,r.R1)(K),"row q-pa-none","bg-blue-3 text-white"))},{default:(0,l.k6)((()=>[(0,l.Lk)("div",A,[(0,l.Lk)("div",Q,[(0,l.Lk)("div",F,[(0,l.Lk)("div",{class:(0,t.C4)((0,r.R1)(n.y)((0,r.R1)(K),"row","bg-red-4"))},[(0,l.bF)(u,{flat:"","text-color":"green",icon:"drag_handle",class:(0,t.C4)((0,r.R1)(n.y)((0,r.R1)(K),"handle","bg-blue-2"))},null,8,["class"]),(0,l.Lk)("div",{class:(0,t.C4)((0,r.R1)(n.y)((0,r.R1)(K),"text-h5","bg-blue-5"))},(0,t.v_)(e.caption)+" "+(0,t.v_)(void 0!==e.phone?e.phone.substring(0,4):"")+" "+(0,t.v_)(void 0!==e.phone?e.phone.substring(4):""),3)],2)])]),(0,l.Lk)("div",S,(0,t.v_)(e.barcode),1)]),(0,l.Lk)("div",{class:(0,t.C4)((0,r.R1)(n.y)((0,r.R1)(K),"col-md-auto q-pa-xs x-v-align-middle","bg-red-3"))},[(0,l.bF)(u,{color:"green",icon:"edit",round:"",onClick:e=>W(a)},null,8,["onClick"])],2)])),_:2},1032,["class"]),(0,l.bF)(g),e.expended?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(b,{key:0,class:"q-pa-none",align:"right"},{default:(0,l.k6)((()=>[(0,l.bF)(u,{flat:"","no-caps":"",onClick:e=>N(a)},{default:(0,l.k6)((()=>[(0,l.eW)((0,t.v_)("barcode"===(0,r.R1)(T).type?(0,r.R1)(H)("barcode_showBarcode"):(0,r.R1)(H)("barcode_showQrcode")),1)])),_:2},1032,["onClick"])])),_:2},1024)),e.expended&&"barcode"===(0,r.R1)(T).type?((0,l.uX)(),(0,l.Wv)(v,{key:1,class:(0,t.C4)((0,r.R1)(n.y)((0,r.R1)(K),"row q-pa-none","bg-green-3 text-white"))},{default:(0,l.k6)((()=>[(0,l.Lk)("div",O,[(0,l.bF)((0,r.R1)(s.f),{value:e.barcode,width:2,height:80},null,8,["value"])])])),_:2},1032,["class"])):(0,l.Q3)("",!0),e.expended&&"qrcode"===(0,r.R1)(T).type?((0,l.uX)(),(0,l.Wv)(v,{key:2,class:(0,t.C4)((0,r.R1)(n.y)((0,r.R1)(K),"row q-pa-none","bg-green-3 text-white"))},{default:(0,l.k6)((()=>[(0,l.Lk)("div",{class:(0,t.C4)((0,r.R1)(n.y)((0,r.R1)(K),"q-pa-xs col text-center","bg-red-3"))},[(0,l.bF)((0,r.R1)(c.Ay),{value:e.barcode,type:"image/png",width:200,color:{dark:"#000000ff",light:"#ffffffff"},errorCorrectionLevel:"H",margin:1},null,8,["value"])],2)])),_:2},1032,["class"])):(0,l.Q3)("",!0)])),_:2},1024)])])])])),_:1},8,["list"])]),(0,r.R1)(T).barcodePageDebug?((0,l.uX)(),(0,l.Wv)(k.A,{key:2,class:"col-3 q-pa-md items-start q-gutter-md",value:(0,r.R1)(P).barcodes,title:"db settings"},null,8,["value"])):(0,l.Q3)("",!0)])}}});var H=o(2807),P=o(1693),X=o(3316),K=o(4189),I=o(386),N=o(2669),W=o(492),j=o(8582),D=o.n(j);const V=(0,H.A)(T,[["__scopeId","data-v-6d16193e"]]),B=V;D()(T,"components",{QBtn:P.A,QCard:X.A,QCardSection:K.A,QSeparator:I.A,QCardActions:N.A,QIcon:W.A});const J=(0,l.pM)(Object.assign({name:"BarcodePage"},{__name:"barcodePage",setup(e){return(e,a)=>{const o=(0,l.g2)("q-page");return(0,l.uX)(),(0,l.Wv)(o,null,{default:(0,l.k6)((()=>[(0,l.bF)(B)])),_:1})}}}));var M=o(7716);const z=J,G=z;D()(J,"components",{QPage:M.A})}}]);